<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
</head>
<body>
<div class="container">

	<h1>OCRüçÖ</h1>

	<div id="div1">
		<button type="button" id="restore" class="btn btn-primary">„Ç´„É°„É©Ëµ∑Âãï</button>
	</div><!-- div1 -->

	<div class="collapse" id="div3">
		<div id="address"></div>
		<button type="button" id="send_tomato" class="btn btn-primary">ÈÄÅ‰ø°</button>
		<div id="result">
			<ul></ul>
		</div>
	</div><!-- div3 -->
</div>

<!-- „Çπ„Ç≠„É£„É≥„É¢„Éº„ÉÄ„É´ -->
<div class="modal fade" id="modal-qrscan" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel2">OCR„Çπ„Ç≠„É£„É≥</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Èñâ„Åò„Çã">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<label id="modal-label"></label>

				<div class="input-group">
					<label class="input-group-btn mr-1">
						<span class="btn btn-primary">
							ÁîªÂÉè„Åß„Çπ„Ç≠„É£„É≥<input id="file_image" type="file" style="display:none">
						</span>
					</label>
				</div>
				<canvas id="canvas"  width="100%" hidden></canvas>
				<!-- canvas id="canvas2"  width="100%"></canvas -->
				<button type="button" id="button_snap" class="btn btn-primary">
					<span id="spinner_snap" class="collapse spinner-border spinner-border-sm" role="status"></span>
					„Çπ„Éä„ÉÉ„Éó
				</button>
				<button type="button" id="button_reset" class="btn btn-primary">
					„É™„Çª„ÉÉ„Éà
				</button>
				<div id="scan_data" class="text-break"></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">„Ç≠„É£„É≥„Çª„É´</button>
				<button type="button" class="btn btn-primary" data-dismiss="modal"	id="modal_ok">OK</button>

			</div><!-- /.modal-footer -->
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script type="text/javascript" src="https://unpkg.com/tesseract.js@2.1.5/dist/tesseract.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/tesseract.js@2.1.5/dist/tesseract.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous">
</script>
<script src="symbol-sdk-pack-1.0.1.js"></script>
<script src="https://xembook.github.io/xembook/xembook_config.js"></script>

<script>


const _0x2f9f42=_0x3211;(function(_0x68fb56,_0x30f75d){const _0x59b645=_0x3211,_0x4fac6b=_0x68fb56();while(!![]){try{const _0x3cb328=parseInt(_0x59b645(0x246))/0x1+parseInt(_0x59b645(0x231))/0x2+parseInt(_0x59b645(0x2ca))/0x3+parseInt(_0x59b645(0x219))/0x4+-parseInt(_0x59b645(0x214))/0x5+-parseInt(_0x59b645(0x1b7))/0x6+parseInt(_0x59b645(0x1e6))/0x7;if(_0x3cb328===_0x30f75d)break;else _0x4fac6b['push'](_0x4fac6b['shift']());}catch(_0x45b70c){_0x4fac6b['push'](_0x4fac6b['shift']());}}}(_0x397e,0x4cb92),PSM=Tesseract[_0x2f9f42(0x222)]);var currentTab,scanData=document[_0x2f9f42(0x269)+_0x2f9f42(0x26d)+'ntBy'+'Id']('scan'+_0x2f9f42(0x1c0)+'a');ocrFrameDiv=0x7,ocrFrameDivTop=Math[_0x2f9f42(0x1c7)+'r'](ocrFrameDiv/0x2)/ocrFrameDiv,ocrFrameDivBottom=(Math['floo'+'r'](ocrFrameDiv/0x2)+0x1)/ocrFrameDiv,$(_0x2f9f42(0x286)+_0x2f9f42(0x2b1)+_0x2f9f42(0x212)+'t')['prop'](_0x2f9f42(0x21b)+_0x2f9f42(0x21c),!![]),$(_0x2f9f42(0x2c8)+_0x2f9f42(0x1f8))[_0x2f9f42(0x21f)+'k'](function(){const _0x5bbc17=_0x2f9f42;currentTab='tab_',$('#mod'+_0x5bbc17(0x273)+'abel')[_0x5bbc17(0x290)](_0x5bbc17(0x281)+_0x5bbc17(0x206)+_0x5bbc17(0x224)+_0x5bbc17(0x1ee)+_0x5bbc17(0x2a6)+_0x5bbc17(0x228)),$('#div'+_0x5bbc17(0x23a))[_0x5bbc17(0x255)+_0x5bbc17(0x267)](_0x5bbc17(0x202)),$(_0x5bbc17(0x287)+_0x5bbc17(0x2ac)+_0x5bbc17(0x1ff)+'n')[_0x5bbc17(0x1c8)+'l']('show'),startVideo();}),$('#mod'+_0x2f9f42(0x2ac)+_0x2f9f42(0x1ff)+'n')['on']('hide'+_0x2f9f42(0x241)+'moda'+'l',function(_0x1656d5){const _0x75226=_0x2f9f42;stopVideo(),clearRect(),$('#fil'+_0x75226(0x2a1)+_0x75226(0x221))[_0x75226(0x203)]('');}),$(_0x2f9f42(0x287)+_0x2f9f42(0x2c6)+'k')[_0x2f9f42(0x21f)+'k'](async function(){const _0x2f9b9e=_0x2f9f42;if(currentTab==_0x2f9b9e(0x1d7)+_0x2f9b9e(0x285)+'sfer'){}else currentTab==_0x2f9b9e(0x1d7)&&($('#add'+_0x2f9b9e(0x244))['text'](scanData['inne'+_0x2f9b9e(0x1ec)+'t']),$(_0x2f9b9e(0x1f6)+'3')[_0x2f9b9e(0x1d0)](),scanData[_0x2f9b9e(0x1bd)+_0x2f9b9e(0x1ec)+'t']='');}),$('#fil'+_0x2f9f42(0x2a1)+'age')['chan'+'ge'](function(_0x58d715){const _0x3f3a2f=_0x2f9f42;scanFileImage('file'+_0x3f3a2f(0x2c9)+'ge');}),$('#but'+_0x2f9f42(0x2b1)+_0x2f9f42(0x1f5))['clic'+'k'](function(){const _0x1c8f36=_0x2f9f42;$(_0x1c8f36(0x20a)+_0x1c8f36(0x238)+'_sna'+'p')[_0x1c8f36(0x255)+_0x1c8f36(0x267)](_0x1c8f36(0x1d0)),$('#but'+_0x1c8f36(0x2b1)+_0x1c8f36(0x1f5))[_0x1c8f36(0x282)](_0x1c8f36(0x21b)+_0x1c8f36(0x21c),!![]),isMovieScanning=![],scale=0x2,canvas2=document[_0x1c8f36(0x26a)+_0x1c8f36(0x248)+_0x1c8f36(0x1d8)+'t']('canv'+'as'),canvas2[_0x1c8f36(0x29b)+'h']=canvasElement[_0x1c8f36(0x29b)+'h']*scale,canvas2[_0x1c8f36(0x229)+'ht']=canvasElement['heig'+'ht']/ocrFrameDiv*scale,ctx2=canvas2[_0x1c8f36(0x1e8)+'onte'+'xt']('2d'),ctx2[_0x1c8f36(0x20b)+_0x1c8f36(0x278)+'e'](canvasElement,0x0,canvasElement[_0x1c8f36(0x229)+'ht']*ocrFrameDivTop,canvasElement['widt'+'h'],canvasElement['heig'+'ht']/ocrFrameDiv,0x0,0x0,canvasElement['widt'+'h']*scale,canvasElement[_0x1c8f36(0x229)+'ht']/ocrFrameDiv*scale);const _0x53310e=Tesseract[_0x1c8f36(0x26a)+_0x1c8f36(0x1fa)+_0x1c8f36(0x25a)]();(async()=>{const _0x40e2d5=_0x1c8f36;await _0x53310e[_0x40e2d5(0x2a4)](),await _0x53310e[_0x40e2d5(0x2a4)+_0x40e2d5(0x22c)+_0x40e2d5(0x2bd)](_0x40e2d5(0x1c5)),await _0x53310e[_0x40e2d5(0x26c)+'iali'+'ze'](_0x40e2d5(0x1c5)),await _0x53310e[_0x40e2d5(0x296)+_0x40e2d5(0x253)+_0x40e2d5(0x294)+'s']({'tessedit_char_whitelist':_0x40e2d5(0x216)+_0x40e2d5(0x2cb)+_0x40e2d5(0x29f)+'GHIJ'+'KLMN'+_0x40e2d5(0x1f9)+_0x40e2d5(0x2c7)+'WXYZ'+'-'});const {data:{text:_0x392ca7}}=await _0x53310e['reco'+_0x40e2d5(0x264)+'e'](canvas2);$('#spi'+_0x40e2d5(0x238)+_0x40e2d5(0x29d)+'p')[_0x40e2d5(0x255)+_0x40e2d5(0x267)](_0x40e2d5(0x202)),line=_0x392ca7['repl'+_0x40e2d5(0x208)](/\r?\n/g,'');var _0x2edc9b=line[_0x40e2d5(0x25e)+'h'](/N[0-Z]{5}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{2}[AIQY]/);validAddress='',_0x2edc9b?(validAddress===''&&(validAddress=replaceWord(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[S5]/),'S','5')),validAddress===''&&(validAddress=replaceWord(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[Z2]/),'Z','2')),validAddress===''&&(validAddress=replaceWord(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[A4]/),'A','4')),validAddress===''&&(validAddress=replaceWord(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[E6]/),'E','6')),validAddress===''&&(validAddress=replaceWord(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[OD]/),'O','D')),validAddress===''&&(validAddress=replaceWord(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[IJ]/),'I','J')),validAddress===''&&(validAddress=replaceWord(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[Z2]/),'Z','7')),validAddress===''&&(validAddress=replaceWord(_0x2edc9b[0x0]['spli'+'t'](/[S6]/),'S','6')),validAddress===''&&(validAddress=replaceWord2(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[A4]/),'A','4',/[S5]/,'S','5')),validAddress===''&&(validAddress=replaceWord2(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[IJ]/),'I','J',/[S5]/,'S','5')),validAddress===''&&(validAddress=replaceWord2(_0x2edc9b[0x0][_0x40e2d5(0x2c2)+'t'](/[OQ]/),'O','Q',/[S5]/,'S','5')),validAddress===''&&(alert(_0x40e2d5(0x281)+_0x40e2d5(0x1dd)+_0x40e2d5(0x1d4)+_0x40e2d5(0x1ca)+'„ÄÇ'+_0x2edc9b[0x0]),isMovieScanning=!![],scanData[_0x40e2d5(0x1bd)+_0x40e2d5(0x1ec)+'t']='',requestAnimationFrame(tick),$('#but'+_0x40e2d5(0x2b1)+'snap')[_0x40e2d5(0x282)](_0x40e2d5(0x21b)+'bled',![]),$(_0x40e2d5(0x286)+_0x40e2d5(0x2b1)+_0x40e2d5(0x212)+'t')['prop']('disa'+_0x40e2d5(0x21c),!![])),console[_0x40e2d5(0x245)](line),console[_0x40e2d5(0x245)](_0x2edc9b)):(alert('„Ç¢„Éâ„É¨„Çπ'+_0x40e2d5(0x1dd)+_0x40e2d5(0x1d4)+'„Åó„Åæ„Åó„Åü'+'„ÄÇ'+_0x392ca7),isMovieScanning=!![],scanData['inne'+_0x40e2d5(0x1ec)+'t']='',requestAnimationFrame(tick),$('#but'+'ton_'+_0x40e2d5(0x1f5))[_0x40e2d5(0x282)](_0x40e2d5(0x21b)+_0x40e2d5(0x21c),![]),$('#but'+_0x40e2d5(0x2b1)+_0x40e2d5(0x212)+'t')[_0x40e2d5(0x282)](_0x40e2d5(0x21b)+'bled',!![])),$(_0x40e2d5(0x286)+'ton_'+_0x40e2d5(0x212)+'t')[_0x40e2d5(0x282)](_0x40e2d5(0x21b)+'bled',![]),await _0x53310e[_0x40e2d5(0x21d)+'inat'+'e']();})();});function replaceWord(_0x1707e7,_0x30ba10,_0x5f5737){const _0x2612a7=_0x2f9f42;let _0x1a579b='',_0x41cd39=[...Array(_0x1707e7['leng'+'th'])[_0x2612a7(0x1d3)]()];for(let _0x6836d8=0x1;_0x6836d8<_0x41cd39[_0x2612a7(0x1d6)+'th'];_0x6836d8++){combi=kumiawase(_0x41cd39,_0x6836d8);for(let _0x65f449=0x0;_0x65f449<combi[_0x2612a7(0x1d6)+'th'];_0x65f449++){builder='';for(let _0x1078e0=0x0;_0x1078e0<_0x1707e7[_0x2612a7(0x1d6)+'th'];_0x1078e0++){builder=builder+_0x1707e7[_0x1078e0],_0x1078e0!==_0x1707e7['leng'+'th']-0x1&&(combi[_0x65f449]['incl'+_0x2612a7(0x2c5)](_0x1078e0)?builder=builder+_0x30ba10:builder=builder+_0x5f5737);}console[_0x2612a7(0x245)](builder),nem[_0x2612a7(0x2bc)+'ess'][_0x2612a7(0x23d)+'lidR'+_0x2612a7(0x226)+_0x2612a7(0x1f0)+'s'](builder[_0x2612a7(0x2a5)+_0x2612a7(0x208)](/-/g,''))&&(_0x1a579b=builder,scanData[_0x2612a7(0x1bd)+'rTex'+'t']=_0x1a579b);}}return console[_0x2612a7(0x245)](_0x1a579b),_0x1a579b;}function _0x397e(){const _0x31a64e=['Dead','2345','js/o','chai','226056qgwIdu','mbol','disa','bled','term','getU','clic','B5D8','age','PSM','ryFa','„Å´ÂÖ•„Çå„Å¶','\x22htt','awAd','k\x22\x20h','„Åï„ÅÑ„ÄÇ','heig','ine','envi','Lang','ent','book','0D1B','play','501500oIxcnR','DA20','776C','na!','hash','keSt','\x20ope','nner','rRec','-ns','lose','incl','isVa','unce','http','sign','.bs.','move','ansa','ress','log','74172ZgjTTn','E539','teEl','ess','.sym','line','orkT','04CD','ory','edia','anno','5008','bjec','aram','lStr','coll','WVI','itor','Uint','B58','rker','resu','forE','ntBy','matc','A3D1','Data','57F7','s/rx','appe','gniz','ener','serM','apse','al-c','getE','crea','slic','init','leme','then','.mod','omPr','8C07','JQB7','al-l','mati','458E','D843','Mosa','Imag','e_mo','„É©„Éº„ÅßÁ¢∫','7DDB','oWid','C3BD','Netw','<a\x20t','#FF3','„Ç¢„Éâ„É¨„Çπ','prop','epos','teFr','tran','#but','#mod','sito','targ','<li>','hidd','DB04','Plai','eam','tors','text','from','sact','mato','eter','node','setP','mesp','srcO','_NET','ivat','widt','/nod','_sna','ose','CDEF','webS','e_im','sage','nMes','load','repl','„Åó„Å¶„Åè„Å†','78C1','eKey','ype','nPat','462A','al-q','yHtt','C848','ion','e/jp','ton_','Acco','tion','type','Q2AB','omRa','„Éï„Ç°„Ç§„É´','Widt','NBG4','\x22>„Ç®„ÇØ','oncl','Addr','uage','.xem','\x20onc','Repo','aceR','spli','MAIN','bolb','udes','al_o','STUV','#res','_ima','87729aPndfD','67AB','/tra','onlo','aDev','ocke','ach','ref=','026C','2180244suzxxJ','unt','AsDa','KUOU','Tran','orer','inne','getT','osit','_dat','„Çí„Ç¢„ÉÉ„Éó','UGH_','1A40','pera','eng','8A14','floo','moda','List','„Åó„Åæ„Åó„Åü','nRep','rack','RYJX','open','y\x20NE','show','D5F3','file','keys','„É≥„Å´Â§±Êïó','t=\x22_','leng','tab_','emen','loca','utf-','ices','#sen','„ÅÆ„Çπ„Ç≠„É£','SWDH','stro','ySta','s://','-sdk','ult\x20','arge','393F','3189732AhilHN','s/sy','getC','ADAE','src','nsac','rTex','UInt','„Çπ„Ç≠„É£„É≥','bute','dres','5ZVQ','crib','vide','_ENO','snap','#div','HAVE','tore','OPQR','teWo','taUR','teNa','B6AE','ctor','rsca','push','e/pn','hide','val','B2D6','Happ','„ÇíËµ§Êû†ÂÜÖ','onte','ace','2072','#spi','draw','medi','dule','stop','setM','list','conc','rese','canv','943615mdXhUE'];_0x397e=function(){return _0x31a64e;};return _0x397e();}function replaceWord2(_0x15744d,_0x183aa0,_0x33cb75,_0x5d8779,_0x195833,_0x142e8b){const _0x518967=_0x2f9f42;let _0xf81b38='',_0x4b3fe9=[...Array(_0x15744d[_0x518967(0x1d6)+'th'])[_0x518967(0x1d3)]()];for(let _0x8521d7=0x1;_0x8521d7<_0x4b3fe9[_0x518967(0x1d6)+'th'];_0x8521d7++){let _0x2eae05=kumiawase(_0x4b3fe9,_0x8521d7);for(let _0x3c545a=0x0;_0x3c545a<_0x2eae05[_0x518967(0x1d6)+'th'];_0x3c545a++){let _0x4e5806='';for(let _0x2d49c1=0x0;_0x2d49c1<_0x15744d[_0x518967(0x1d6)+'th'];_0x2d49c1++){_0x4e5806=_0x4e5806+_0x15744d[_0x2d49c1],_0x2d49c1!==_0x15744d['leng'+'th']-0x1&&(_0x2eae05[_0x3c545a][_0x518967(0x23c)+_0x518967(0x2c5)](_0x2d49c1)?_0x4e5806=_0x4e5806+_0x183aa0:_0x4e5806=_0x4e5806+_0x33cb75);}console[_0x518967(0x245)](_0x4e5806),_0xf81b38===''&&(_0xf81b38=replaceWord(_0x4e5806['spli'+'t'](_0x5d8779),_0x195833,_0x142e8b)),console[_0x518967(0x245)](_0xf81b38);}}return console['log'](_0xf81b38),_0xf81b38;}function kumiawase(_0x51c63b,_0x2a8b3c){const _0x29c13c=_0x2f9f42;var _0x3c6f31,_0x34e36b,_0x279ced,_0x49c309,_0x169105;_0x3c6f31=[],_0x49c309=_0x51c63b[_0x29c13c(0x1d6)+'th'];if(_0x49c309<_0x2a8b3c)return;else{if(_0x2a8b3c==0x1)for(_0x34e36b=0x0;_0x34e36b<_0x49c309;_0x34e36b++){_0x3c6f31[_0x34e36b]=[_0x51c63b[_0x34e36b]];}else for(_0x34e36b=0x0;_0x34e36b<_0x49c309-_0x2a8b3c+0x1;_0x34e36b++){_0x169105=kumiawase(_0x51c63b[_0x29c13c(0x26b)+'e'](_0x34e36b+0x1),_0x2a8b3c-0x1);for(_0x279ced=0x0;_0x279ced<_0x169105[_0x29c13c(0x1d6)+'th'];_0x279ced++){_0x3c6f31[_0x29c13c(0x200)]([_0x51c63b[_0x34e36b]][_0x29c13c(0x211)+'at'](_0x169105[_0x279ced]));}}}return _0x3c6f31;}$(_0x2f9f42(0x286)+_0x2f9f42(0x2b1)+_0x2f9f42(0x212)+'t')[_0x2f9f42(0x21f)+'k'](function(){const _0x6934f8=_0x2f9f42;isMovieScanning=!![],scanData[_0x6934f8(0x1bd)+_0x6934f8(0x1ec)+'t']='',requestAnimationFrame(tick),$(_0x6934f8(0x286)+_0x6934f8(0x2b1)+_0x6934f8(0x1f5))[_0x6934f8(0x282)]('disa'+'bled',![]),$(_0x6934f8(0x286)+'ton_'+_0x6934f8(0x212)+'t')[_0x6934f8(0x282)](_0x6934f8(0x21b)+_0x6934f8(0x21c),!![]),$(_0x6934f8(0x20a)+'nner'+_0x6934f8(0x29d)+'p')['coll'+_0x6934f8(0x267)]('hide');});var canvasElement,canvas,isMovieScanning=![],video=document[_0x2f9f42(0x26a)+'teEl'+_0x2f9f42(0x1d8)+'t'](_0x2f9f42(0x1f3)+'o');function drawLine(_0x580dfd,_0xf035a0,_0x4b7a02){const _0x24c7fa=_0x2f9f42;canvas['begi'+_0x24c7fa(0x2aa)+'h'](),canvas[_0x24c7fa(0x242)+'To'](_0x580dfd['x'],_0x580dfd['y']),canvas[_0x24c7fa(0x24b)+'To'](_0xf035a0['x'],_0xf035a0['y']),canvas[_0x24c7fa(0x24b)+_0x24c7fa(0x2b8)+'h']=0x4,canvas[_0x24c7fa(0x1df)+_0x24c7fa(0x236)+'yle']=_0x4b7a02,canvas['stro'+'ke']();}function drawFrame(){const _0x3981d9=_0x2f9f42;drawLine({'x':0x0,'y':canvasElement['heig'+'ht']*ocrFrameDivTop},{'x':canvasElement[_0x3981d9(0x29b)+'h'],'y':canvasElement[_0x3981d9(0x229)+'ht']*ocrFrameDivTop},_0x3981d9(0x280)+'B58'),drawLine({'x':canvasElement[_0x3981d9(0x29b)+'h'],'y':canvasElement[_0x3981d9(0x229)+'ht']*ocrFrameDivTop},{'x':canvasElement[_0x3981d9(0x29b)+'h'],'y':canvasElement[_0x3981d9(0x229)+'ht']*ocrFrameDivBottom},_0x3981d9(0x280)+'B58'),drawLine({'x':canvasElement['widt'+'h'],'y':canvasElement[_0x3981d9(0x229)+'ht']*ocrFrameDivBottom},{'x':0x0,'y':canvasElement[_0x3981d9(0x229)+'ht']*ocrFrameDivBottom},_0x3981d9(0x280)+_0x3981d9(0x259)),drawLine({'x':0x0,'y':canvasElement[_0x3981d9(0x229)+'ht']*ocrFrameDivBottom},{'x':0x0,'y':canvasElement[_0x3981d9(0x229)+'ht']*ocrFrameDivTop},_0x3981d9(0x280)+_0x3981d9(0x259));}function tick(){const _0x28cf50=_0x2f9f42;if(!isMovieScanning)return;video['read'+_0x28cf50(0x1e0)+'te']===video[_0x28cf50(0x1f7)+_0x28cf50(0x1f4)+_0x28cf50(0x1c2)+'DATA']&&(canvasElement[_0x28cf50(0x28b)+'en']=![],canvasElement[_0x28cf50(0x29b)+'h']=$('.mod'+_0x28cf50(0x268)+_0x28cf50(0x207)+'nt')[_0x28cf50(0x29b)+'h']()*0.9,canvasElement['heig'+'ht']=$('.mod'+_0x28cf50(0x268)+_0x28cf50(0x207)+'nt')['widt'+'h']()*0.9*video['vide'+'oHei'+'ght']/video['vide'+_0x28cf50(0x27c)+'th'],getCodeInfo(video)),drawFrame(),requestAnimationFrame(tick);}function _0x3211(_0x24716c,_0x269a6f){const _0x397ec9=_0x397e();return _0x3211=function(_0x321165,_0x474264){_0x321165=_0x321165-0x1b0;let _0x3d737e=_0x397ec9[_0x321165];return _0x3d737e;},_0x3211(_0x24716c,_0x269a6f);}function getCodeInfo(_0x59c550){const _0x1addba=_0x2f9f42;canvas[_0x1addba(0x20b)+_0x1addba(0x278)+'e'](_0x59c550,0x0,0x0,canvasElement[_0x1addba(0x29b)+'h'],canvasElement[_0x1addba(0x229)+'ht']);var _0x128365=canvas['getI'+'mage'+_0x1addba(0x260)](0x0,0x0,canvasElement['widt'+'h'],canvasElement['heig'+'ht']);}function startVideo(){const _0x51aa95=_0x2f9f42;isMovieScanning=!![],canvasElement=document['getE'+'leme'+_0x51aa95(0x25d)+'Id'](_0x51aa95(0x213)+'as'),canvas=canvasElement[_0x51aa95(0x1e8)+_0x51aa95(0x207)+'xt']('2d'),navigator[_0x51aa95(0x20c)+_0x51aa95(0x1b2)+_0x51aa95(0x1db)][_0x51aa95(0x21e)+_0x51aa95(0x266)+_0x51aa95(0x24f)]({'video':{'facingMode':_0x51aa95(0x22b)+'ronm'+_0x51aa95(0x22d)}})[_0x51aa95(0x26e)](function(_0x19499e){const _0x5660f4=_0x51aa95;video[_0x5660f4(0x298)+_0x5660f4(0x252)+'t']=_0x19499e,window[_0x5660f4(0x1d9)+_0x5660f4(0x254)+_0x5660f4(0x28e)]=_0x19499e,video['setA'+'ttri'+_0x5660f4(0x1ef)]('play'+'sinl'+_0x5660f4(0x22a),!![]),video[_0x5660f4(0x230)](),requestAnimationFrame(tick);});}function stopVideo(){const _0x5c7851=_0x2f9f42;window[_0x5c7851(0x1d9)+_0x5c7851(0x254)+_0x5c7851(0x28e)]!=undefined&&window['loca'+'lStr'+'eam'][_0x5c7851(0x1be)+_0x5c7851(0x1cc)+'s']()[_0x5c7851(0x25c)+_0x5c7851(0x1b4)](_0x51443a=>{const _0x27dcc3=_0x5c7851;_0x51443a[_0x27dcc3(0x20e)]();});}function clearRect(){const _0x33c06d=_0x2f9f42;canvas['clea'+_0x33c06d(0x239)+'t'](0x0,0x0,canvasElement[_0x33c06d(0x29b)+'h'],canvasElement[_0x33c06d(0x229)+'ht']);}function scanFileImage(_0x5e825d){const _0x1b1991=_0x2f9f42;isMovieScanning=![],canvasElement[_0x1b1991(0x28b)+'en']=![],stopVideo();const _0x3d669e=document[_0x1b1991(0x269)+'leme'+_0x1b1991(0x25d)+'Id'](_0x5e825d)[_0x1b1991(0x1d2)+'s'],_0x3cccb3=new FileReader(),_0x1b9f75=_0x3d669e[0x0];_0x1b9f75['type']=='imag'+_0x1b1991(0x2b0)+'eg'||_0x1b9f75[_0x1b1991(0x2b4)]=='imag'+_0x1b1991(0x201)+'g'?(_0x3cccb3['read'+_0x1b1991(0x1b9)+_0x1b1991(0x1fb)+'L'](_0x1b9f75,_0x1b1991(0x1da)+'8'),_0x3cccb3[_0x1b1991(0x1b1)+'ad']=function(_0x2e7233){return function(_0x324b70){const _0x58c66b=_0x3211,_0x5c3641=new Image();_0x5c3641[_0x58c66b(0x1ea)]=_0x324b70[_0x58c66b(0x289)+'et'][_0x58c66b(0x25b)+'lt'],_0x5c3641[_0x58c66b(0x1b1)+'ad']=function(){const _0x2e46f0=_0x58c66b;canvasElement[_0x2e46f0(0x29b)+'h']=$(_0x2e46f0(0x26f)+_0x2e46f0(0x268)+_0x2e46f0(0x207)+'nt')[_0x2e46f0(0x29b)+'h']()*0.9,canvasElement[_0x2e46f0(0x229)+'ht']=$(_0x2e46f0(0x26f)+'al-c'+_0x2e46f0(0x207)+'nt')[_0x2e46f0(0x29b)+'h']()*0.9*_0x5c3641[_0x2e46f0(0x229)+'ht']/_0x5c3641[_0x2e46f0(0x29b)+'h'],getCodeInfo(_0x5c3641),drawFrame();};};}(_0x1b9f75)):alert('JPEG'+'„ÅãPNG'+_0x1b1991(0x2b7)+_0x1b1991(0x1c1)+'„Åó„Å¶‰∏ã„Åï'+'„ÅÑ');}const nem=require('/nod'+_0x2f9f42(0x279)+_0x2f9f42(0x20d)+_0x2f9f42(0x1e7)+_0x2f9f42(0x21a)+_0x2f9f42(0x1e2)),op=require(_0x2f9f42(0x29c)+_0x2f9f42(0x279)+_0x2f9f42(0x20d)+'s/rx'+_0x2f9f42(0x217)+_0x2f9f42(0x1c4)+_0x2f9f42(0x28f)),rxjs=require(_0x2f9f42(0x29c)+_0x2f9f42(0x279)+'dule'+_0x2f9f42(0x262)+'js'),node=_0x2f9f42(0x23f)+_0x2f9f42(0x1e1)+_0x2f9f42(0x295)+_0x2f9f42(0x2be)+_0x2f9f42(0x22e)+'.net',repo=new nem[(_0x2f9f42(0x2c0))+(_0x2f9f42(0x288))+(_0x2f9f42(0x223))+(_0x2f9f42(0x1fe))+(_0x2f9f42(0x2ad))+'p'](node),txRepo=repo['crea'+'teTr'+_0x2f9f42(0x243)+'ctio'+_0x2f9f42(0x1cb)+_0x2f9f42(0x1bf)+_0x2f9f42(0x24e)](),nsRepo=repo[_0x2f9f42(0x26a)+_0x2f9f42(0x1fc)+_0x2f9f42(0x297)+_0x2f9f42(0x2c1)+_0x2f9f42(0x283)+'itor'+'y']();var listener;(async()=>{const _0xf3a5b2=_0x2f9f42;if(listener===undefined){const _0x59873d=node[_0xf3a5b2(0x2a5)+_0xf3a5b2(0x208)](_0xf3a5b2(0x23f),'ws')+'/ws';await _0x2ab4de(_0x59873d,repo[_0xf3a5b2(0x26a)+_0xf3a5b2(0x1fc)+_0xf3a5b2(0x297)+_0xf3a5b2(0x2c1)+_0xf3a5b2(0x283)+_0xf3a5b2(0x257)+'y']());}async function _0x2ab4de(_0x44d489,_0x471cce){const _0x427b4e=_0xf3a5b2;listener=new nem[(_0x427b4e(0x1c9))+(_0x427b4e(0x265))](_0x44d489,_0x471cce,WebSocket),await listener[_0x427b4e(0x1ce)](),console[_0x427b4e(0x245)]('list'+_0x427b4e(0x265)+_0x427b4e(0x237)+'n'),listener[_0x427b4e(0x2a0)+_0x427b4e(0x1b3)+'t'][_0x427b4e(0x2bb)+_0x427b4e(0x29e)]=async function(){const _0xe701fe=_0x427b4e;console[_0xe701fe(0x245)](_0xe701fe(0x210)+'ener'+_0xe701fe(0x2bf)+_0xe701fe(0x23b)),await _0x2ab4de(_0x44d489,_0x471cce);};}})(),$(_0x2f9f42(0x1dc)+'d_to'+_0x2f9f42(0x293))[_0x2f9f42(0x21f)+'k'](function(){const _0x58d829=_0x2f9f42;privateKey=_0x58d829(0x220)+_0x58d829(0x27d)+_0x58d829(0x247)+_0x58d829(0x1e9)+_0x58d829(0x27b)+_0x58d829(0x271)+'5588'+'3291'+_0x58d829(0x2ab)+_0x58d829(0x28c)+_0x58d829(0x2ae)+_0x58d829(0x25f)+'E847'+'5231'+'9AC6'+'FFC7',alice=nem[_0x58d829(0x2b2)+_0x58d829(0x1b8)]['crea'+_0x58d829(0x284)+_0x58d829(0x270)+_0x58d829(0x29a)+_0x58d829(0x2a8)](privateKey,nem[_0x58d829(0x27e)+_0x58d829(0x24c)+_0x58d829(0x2a9)]['MAIN'+'_NET']),address=nem[_0x58d829(0x2bc)+_0x58d829(0x249)][_0x58d829(0x26a)+_0x58d829(0x284)+_0x58d829(0x2b6)+'wAdd'+'ress']('ND7M'+_0x58d829(0x2b9)+_0x58d829(0x1cd)+'5BBH'+_0x58d829(0x2b5)+_0x58d829(0x1f1)+_0x58d829(0x1de)+_0x58d829(0x1ba)+_0x58d829(0x272)+_0x58d829(0x256)),tx=nem[_0x58d829(0x1bb)+'sfer'+_0x58d829(0x1bb)+_0x58d829(0x292)+_0x58d829(0x2af)][_0x58d829(0x26a)+'te'](nem[_0x58d829(0x215)+_0x58d829(0x24b)][_0x58d829(0x26a)+'te'](0x604ff681),address,[new nem[(_0x58d829(0x277))+'ic'](new nem['Mosa'+'icId']('3103'+_0x58d829(0x2a7)+_0x58d829(0x1c6)+_0x58d829(0x22f)),nem[_0x58d829(0x1ed)+'64'][_0x58d829(0x291)+_0x58d829(0x258)](0x1))],nem[_0x58d829(0x28d)+_0x58d829(0x2a3)+_0x58d829(0x2a2)]['crea'+'te'](_0x58d829(0x205)+_0x58d829(0x1cf)+'M\x20To'+_0x58d829(0x274)+_0x58d829(0x234)),nem[_0x58d829(0x27e)+_0x58d829(0x24c)+_0x58d829(0x2a9)][_0x58d829(0x2c3)+_0x58d829(0x299)])[_0x58d829(0x20f)+'axFe'+'e'](0x64),signedTx=alice[_0x58d829(0x240)](tx,_0x58d829(0x261)+_0x58d829(0x232)+_0x58d829(0x251)+_0x58d829(0x1b6)+_0x58d829(0x233)+_0x58d829(0x1fd)+_0x58d829(0x276)+_0x58d829(0x1e5)+_0x58d829(0x24d)+_0x58d829(0x275)+'0AA2'+'D9F1'+_0x58d829(0x1d1)+_0x58d829(0x1c3)+_0x58d829(0x209)+_0x58d829(0x204)),console[_0x58d829(0x245)](signedTx[_0x58d829(0x235)]),txRepo[_0x58d829(0x250)+_0x58d829(0x23e)](signedTx)['subs'+_0x58d829(0x1f2)+'e'](_0x2b74d9=>{const _0x3d760c=_0x58d829;$(_0x3d760c(0x2c8)+_0x3d760c(0x1e3)+'ul')[_0x3d760c(0x263)+'nd'](_0x3d760c(0x28a)+_0x3d760c(0x27f)+_0x3d760c(0x1e4)+_0x3d760c(0x1d5)+'blan'+_0x3d760c(0x227)+_0x3d760c(0x1b5)+_0x3d760c(0x225)+'p://'+'expl'+_0x3d760c(0x1bc)+_0x3d760c(0x24a)+_0x3d760c(0x2c4)+'lock'+_0x3d760c(0x218)+'n.io'+_0x3d760c(0x1b0)+_0x3d760c(0x1eb)+_0x3d760c(0x2b3)+'s/'+signedTx[_0x3d760c(0x235)]+(_0x3d760c(0x2ba)+'„Çπ„Éó„É≠„Éº'+_0x3d760c(0x27a)+'Ë™ç</a'+'></l'+'i>')),console[_0x3d760c(0x245)](_0x2b74d9);});});

/*
PSM  = Tesseract.PSM;

var currentTab;			//„Ç´„É°„É©Êìç‰Ωú„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅÆÁèæÂú®ÈÅ∏Êäû‰∏≠„ÅÆ„Çø„Éñ
var scanData = document.getElementById("scan_data");

ocrFrameDiv = 7;
ocrFrameDivTop = (Math.floor(ocrFrameDiv / 2)  )/ ocrFrameDiv;
ocrFrameDivBottom = (Math.floor(ocrFrameDiv / 2)+1) / ocrFrameDiv;

//‚ñ†‚ñ†‚ñ†CONTROLLER‚ñ†‚ñ†‚ñ†
$('#button_reset').prop('disabled', true);

//„É≠„Ç∞„Ç§„É≥
$("#restore").click(function(){

	currentTab = "tab_";
	$('#modal-label').text("„Ç¢„Éâ„É¨„Çπ„ÇíËµ§Êû†ÂÜÖ„Å´ÂÖ•„Çå„Å¶„Çπ„Ç≠„É£„É≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ")
	$('#div-ns').collapse('hide');
	$('#modal-qrscan').modal('show');
	startVideo();
});


//„Çπ„Ç≠„É£„É≥„É¢„Éº„ÉÄ„É´„ÅåÈñâ„Åò„Çâ„Çå„ÅüÊôÇ
$('#modal-qrscan').on('hide.bs.modal', function (e) {

	stopVideo();
	clearRect();
	$('#file_image').val("");
});

//„É¢„Éº„ÉÄ„É´„Ç¶„Ç£„É≥„Éâ„Ç¶OK„ÇØ„É™„ÉÉ„ÇØÊôÇ(„É¢„Éº„ÉÄ„É´Èñâ„Åò„Çã)
$("#modal_ok").click(async function(){

	if(currentTab == "tab_transfer"){	//ÈÄÅ‰ø°
	}else if(currentTab == "tab_"){	//Âæ©ÂÖÉ

		$("#address").text(scanData.innerText);
		$("#div3").show();
		scanData.innerText = "";
	}
});


$('#file_image').change(function(e){scanFileImage("file_image");});
$("#button_snap").click(function(){
	$('#spinner_snap').collapse('show');
	$('#button_snap').prop('disabled', true);

	isMovieScanning = false;

	scale = 2;
	
	canvas2 = document.createElement("canvas");
//	canvas2 = document.getElementById("canvas2");
	canvas2.width=canvasElement.width * scale;
	canvas2.height=canvasElement.height / ocrFrameDiv * scale;

	ctx2 = canvas2.getContext('2d');
	ctx2.drawImage( canvasElement,
		0,canvasElement.height * ocrFrameDivTop ,
		canvasElement.width,canvasElement.height/ ocrFrameDiv ,
		0,0,
		canvasElement.width * scale,canvasElement.height/ocrFrameDiv * scale
	);

	const worker = Tesseract.createWorker();
	(async () => {
		await worker.load();
		await worker.loadLanguage('eng');
		await worker.initialize('eng');
		await worker.setParameters({
			tessedit_char_whitelist: '234567ABCDEFGHIJKLMNOPQRSTUVWXYZ-',
		});
		const { data: { text } } = await worker.recognize(canvas2);

		$('#spinner_snap').collapse('hide');
		line = text.replace(/\r?\n/g,"");
		var scanedAddress = line.match(/N[0-Z]{5}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{2}[AIQY]/);
		validAddress = "";
		if(scanedAddress){
			
			if(validAddress ==="" ){validAddress = replaceWord( scanedAddress[0].split(/[S5]/) ,"S","5");}
			if(validAddress ==="" ){validAddress = replaceWord( scanedAddress[0].split(/[Z2]/) ,"Z","2");}
			if(validAddress ==="" ){validAddress = replaceWord( scanedAddress[0].split(/[A4]/) ,"A","4");}
			if(validAddress ==="" ){validAddress = replaceWord( scanedAddress[0].split(/[E6]/) ,"E","6");}
			if(validAddress ==="" ){validAddress = replaceWord( scanedAddress[0].split(/[OD]/) ,"O","D");}
			if(validAddress ==="" ){validAddress = replaceWord( scanedAddress[0].split(/[IJ]/) ,"I","J");}
			if(validAddress ==="" ){validAddress = replaceWord( scanedAddress[0].split(/[Z2]/) ,"Z","7");}
			if(validAddress ==="" ){validAddress = replaceWord( scanedAddress[0].split(/[S6]/) ,"S","6");}
			if(validAddress ==="" ){validAddress = replaceWord2(scanedAddress[0].split(/[A4]/) ,"A","4",/[S5]/,"S","5");}
			if(validAddress ==="" ){validAddress = replaceWord2(scanedAddress[0].split(/[IJ]/) ,"I","J",/[S5]/,"S","5");}
			if(validAddress ==="" ){validAddress = replaceWord2(scanedAddress[0].split(/[OQ]/) ,"O","Q",/[S5]/,"S","5");}



			if(validAddress === ""){

				alert("„Ç¢„Éâ„É¨„Çπ„ÅÆ„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ" + scanedAddress[0]);
				isMovieScanning = true;
				scanData.innerText = "";
				requestAnimationFrame(tick);
				$('#button_snap').prop('disabled', false);
				$('#button_reset').prop('disabled', true);

			}
			console.log(line);
			console.log(scanedAddress);

		}else{
			alert("„Ç¢„Éâ„É¨„Çπ„ÅÆ„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ"+ text);
			isMovieScanning = true;
			scanData.innerText = "";
			requestAnimationFrame(tick);
			$('#button_snap').prop('disabled', false);
			$('#button_reset').prop('disabled', true);

		}


		$('#button_reset').prop('disabled', false);

		await worker.terminate();
	})();
});

function replaceWord(splitedAddress ,a,b){

	let validAddress = "";
	let balls = [...Array(splitedAddress.length ).keys()] ;

	for(let ii=1;ii<balls.length;ii++){
		combi = kumiawase(balls,ii);
		for(let i=0;i<combi.length;i++){

			builder = "";
			for(let j=0;j<splitedAddress.length;j++){
				builder = builder + splitedAddress[j];
				
				if(j !== splitedAddress.length - 1){
					if(combi[i].includes(j)  ){
						builder = builder + a;
					}else{
						builder = builder + b;
					}
				}
			}
			console.log(builder);
			if(nem.Address.isValidRawAddress(builder.replace(/-/g, ''))){
				validAddress = builder;
				scanData.innerText = validAddress;
			}
		}
	}
	console.log(validAddress);
	return validAddress;

}

function replaceWord2(splitedAddress ,a,b,reg,c,d){

	let validAddress = "";
	let balls = [...Array(splitedAddress.length ).keys()] ;

	for(let ii=1;ii<balls.length;ii++){
		let combi = kumiawase(balls,ii);
		for(let i=0;i<combi.length;i++){

			let builder = "";
			for(let j=0;j<splitedAddress.length;j++){
				builder = builder + splitedAddress[j];
				
				if(j !== splitedAddress.length - 1){
					if(combi[i].includes(j)  ){
						builder = builder + a;
					}else{
						builder = builder + b;
					}
				}
			}
			console.log(builder);
			if(validAddress === ""){validAddress = replaceWord( builder.split(reg) ,c,d)}
			console.log(validAddress);
		}
	}
	console.log(validAddress);
	return validAddress;

}

function kumiawase(balls, nukitorisu){
  var arrs, i, j, zensu, kumis;
  arrs = [];
  zensu = balls.length;
  if(zensu < nukitorisu){
    return;
  }else if(nukitorisu == 1){
    for(i = 0; i < zensu; i++){
      arrs[i] = [balls[i]];
    }
  }else{
    for(i = 0; i < zensu - nukitorisu + 1; i ++){
      kumis = kumiawase(balls.slice(i + 1), nukitorisu - 1);
      for(j = 0; j < kumis.length; j ++){
        arrs.push([balls[i]].concat(kumis[j]));
      }
    }
  }
  return arrs;
}

$("#button_reset").click(function(){
	isMovieScanning = true;
	scanData.innerText = "";
	requestAnimationFrame(tick);
	$('#button_snap').prop('disabled', false);
	$('#button_reset').prop('disabled', true);
	$('#spinner_snap').collapse('hide');


});

//„Çπ„Ç≠„É£„É≥Èñ¢ÈÄ£///////////////////////////////////

var canvasElement;
var canvas;
var isMovieScanning = false;
var video = document.createElement("video");

function drawLine(begin, end, color) {
	canvas.beginPath();
	canvas.moveTo(begin.x, begin.y);
	canvas.lineTo(end.x, end.y);
	canvas.lineWidth = 4;
	canvas.strokeStyle = color;
	canvas.stroke();
}

function drawFrame(){
	drawLine({x:0,y:canvasElement.height*ocrFrameDivTop}, {x:canvasElement.width,y:canvasElement.height*ocrFrameDivTop},"#FF3B58");
	drawLine({x:canvasElement.width,y:canvasElement.height*ocrFrameDivTop}, {x:canvasElement.width,y:canvasElement.height*ocrFrameDivBottom},"#FF3B58");
	drawLine({x:canvasElement.width,y:canvasElement.height*ocrFrameDivBottom}, {x:0,y:canvasElement.height*ocrFrameDivBottom},"#FF3B58");
	drawLine({x:0,y:canvasElement.height*ocrFrameDivBottom}, {x:0,y:canvasElement.height*ocrFrameDivTop},"#FF3B58");

}
function tick() {
	if(!isMovieScanning){return;}
	if (video.readyState === video.HAVE_ENOUGH_DATA) {
		canvasElement.hidden = false;
		canvasElement.width  = $('.modal-content').width() * 0.9;
		canvasElement.height = $('.modal-content').width() * 0.9 * video.videoHeight / video.videoWidth;

		getCodeInfo(video);
	}
	drawFrame();

	requestAnimationFrame(tick);
}

function getCodeInfo(src){

	canvas.drawImage(src, 0, 0, canvasElement.width, canvasElement.height);
	var imageData = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);
}

function startVideo(){

	isMovieScanning = true;
	canvasElement = document.getElementById("canvas");
	canvas		  = canvasElement.getContext("2d");

	navigator.mediaDevices.getUserMedia({
		video: {
			facingMode: "environment"
		}
	})
	.then(function(stream) {
		video.srcObject = stream;
		window.localStream = stream;
		video.setAttribute("playsinline", true);
		video.play();
		requestAnimationFrame(tick);

	});
}

function stopVideo(){
	if(window.localStream != undefined){
		window.localStream.getTracks().forEach( (track) => {
			track.stop();
		});
	}
}

function clearRect(){

	canvas.clearRect(0, 0, canvasElement.width, canvasElement.height);
}
//„Éï„Ç°„Ç§„É´Âá¶ÁêÜÈñ¢ÈÄ£///////////////////////////////

function scanFileImage(tag){

	isMovieScanning = false;
	canvasElement.hidden = false;

	stopVideo();
	const fileList = document.getElementById(tag).files;
	const reader = new FileReader();
	const file = fileList[0];
	if (file.type == 'image/jpeg' || file.type == 'image/png'){
		reader.readAsDataURL(file, "utf-8");
		reader.onload = (function(_) {
			return function(e) {

				const img = new Image();
				img.src = e.target.result;
				img.onload = function() {
					canvasElement.width  = $('.modal-content').width() * 0.9;
					canvasElement.height = $('.modal-content').width() * 0.9 * img.height / img.width;
					getCodeInfo(img);
					drawFrame();
				};
			};
		})(file);
	} else {
		alert('JPEG„ÅãPNG„Éï„Ç°„Ç§„É´„Çí„Ç¢„ÉÉ„Éó„Åó„Å¶‰∏ã„Åï„ÅÑ');
	}
}
////////////////////////////////////////////////////////

const nem = require("/node_modules/symbol-sdk");
const op = require("/node_modules/rxjs/operators");
const rxjs = require("/node_modules/rxjs");

const node = "https://node.xembook.net";
const repo = new nem.RepositoryFactoryHttp(node);
const txRepo = repo.createTransactionRepository();
const nsRepo = repo.createNamespaceRepository();
var listener;

(async() =>{
	if(listener === undefined){
		const wsEndpoint = node.replace('http', 'ws') + "/ws";
		await listenerKeepOpening(wsEndpoint,repo.createNamespaceRepository());
	}

	async function listenerKeepOpening(wsEndpoint,nsRepo){

		listener = new nem.Listener(wsEndpoint,nsRepo,WebSocket);
		await listener.open();
		console.log("listener open");
		listener.webSocket.onclose = async function(){
			console.log("listener onclose");
			await listenerKeepOpening(wsEndpoint,nsRepo);
		}
	}
})();

$("#send_tomato").click(function(){
	privateKey = "";
	alice = nem.Account.createFromPrivateKey(privateKey, nem.NetworkType.MAIN_NET);
	
//	address = $("#address").text();
	address = nem.Address.createFromRawAddress("ND7MNBG4RYJX5BBHQ2AB5ZVQSWDHKUOUJQB7WVI");

	tx = nem.TransferTransaction.create(
		nem.Deadline.create(1615853185),
		address, 
		[new nem.Mosaic(new nem.MosaicId('310378C18A140D1B'), nem.UInt64.fromUint(1))],
		nem.PlainMessage.create('Happy NEM Tomatina!'),
		nem.NetworkType.MAIN_NET
	).setMaxFee(100);
	
	signedTx = alice.sign(tx,"57F7DA205008026C776CB6AED843393F04CD458E0AA2D9F1D5F31A402072B2D6");
	console.log(signedTx.hash);
	txRepo.announce(signedTx).subscribe(x=>{

		$('#result ul')
		.append('<li><a target="_blank" href="http://explorer.symbolblockchain.io/transactions/' + signedTx.hash + '">„Ç®„ÇØ„Çπ„Éó„É≠„Éº„É©„Éº„ÅßÁ¢∫Ë™ç</a></li>');

		console.log(x)
	});
});
*/


</script>
</body>
</html>
