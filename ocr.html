<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
</head>
<body>
<div class="container">

	<h1>OCRüçÖ</h1>

	<div id="div1">
		<button type="button" id="restore" class="btn btn-primary">„Ç´„É°„É©Ëµ∑Âãï</button>
	</div><!-- div1 -->

	<div class="collapse" id="div3">
		<div id="address"></div>
		<button type="button" id="send_tomato" class="btn btn-primary">ÈÄÅ‰ø°</button>
		<div id="result">
			<ul></ul>
		</div>
	</div><!-- div3 -->
</div>

<!-- „Çπ„Ç≠„É£„É≥„É¢„Éº„ÉÄ„É´ -->
<div class="modal fade" id="modal-qrscan" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel2">OCR„Çπ„Ç≠„É£„É≥</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Èñâ„Åò„Çã">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<label id="modal-label"></label>

				<div class="input-group">
					<label class="input-group-btn mr-1">
						<span class="btn btn-primary">
							ÁîªÂÉè„Åß„Çπ„Ç≠„É£„É≥<input id="file_image" type="file" style="display:none">
						</span>
					</label>
				</div>
				<canvas id="canvas"  width="100%" hidden></canvas>
				<!-- canvas id="canvas2"  width="100%"></canvas -->
				<button type="button" id="button_snap" class="btn btn-primary">
					„Çπ„Éä„ÉÉ„Éó
				</button>
				<button type="button" id="button_reset" class="btn btn-primary">
					„É™„Çª„ÉÉ„Éà
				</button>
				<div id="scan_data" class="text-break"></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">„Ç≠„É£„É≥„Çª„É´</button>
				<button type="button" class="btn btn-primary" data-dismiss="modal"	id="modal_ok">OK</button>

			</div><!-- /.modal-footer -->
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script type="text/javascript" src="https://unpkg.com/tesseract.js@2.1.5/dist/tesseract.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous">
</script>
<script src="symbol-sdk-pack-1.0.1.js"></script>
<script src="https://xembook.github.io/xembook/xembook_config.js"></script>

<script>

const _0x6c1a37=_0x21e9;(function(_0xf7ba9b,_0x22c9d0){const _0x158a2a=_0x21e9,_0x21b449=_0xf7ba9b();while(!![]){try{const _0xa2036b=-parseInt(_0x158a2a(0xe1))/0x1*(parseInt(_0x158a2a(0x10c))/0x2)+-parseInt(_0x158a2a(0x1cb))/0x3*(parseInt(_0x158a2a(0x148))/0x4)+-parseInt(_0x158a2a(0x10b))/0x5*(parseInt(_0x158a2a(0x10d))/0x6)+parseInt(_0x158a2a(0x13c))/0x7*(parseInt(_0x158a2a(0x1ac))/0x8)+-parseInt(_0x158a2a(0xcc))/0x9+-parseInt(_0x158a2a(0x194))/0xa+parseInt(_0x158a2a(0x18b))/0xb;if(_0xa2036b===_0x22c9d0)break;else _0x21b449['push'](_0x21b449['shift']());}catch(_0x3dfcf4){_0x21b449['push'](_0x21b449['shift']());}}}(_0x1e46,0xc9e3c));var currentTab,scanData=document['getE'+_0x6c1a37(0xdd)+_0x6c1a37(0x18e)+'Id'](_0x6c1a37(0x1b9)+_0x6c1a37(0x18a)+'a');function _0x21e9(_0x164e9b,_0x50447b){const _0x1e46e9=_0x1e46();return _0x21e9=function(_0x21e9f5,_0x157a60){_0x21e9f5=_0x21e9f5-0xbf;let _0x26b865=_0x1e46e9[_0x21e9f5];if(_0x21e9['LyqyUD']===undefined){var _0x290970=function(_0x558763){const _0xef5d60='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x27f7fd='',_0x88007a='';for(let _0x463326=0x0,_0x28074a,_0x2985e3,_0x32ced7=0x0;_0x2985e3=_0x558763['charAt'](_0x32ced7++);~_0x2985e3&&(_0x28074a=_0x463326%0x4?_0x28074a*0x40+_0x2985e3:_0x2985e3,_0x463326++%0x4)?_0x27f7fd+=String['fromCharCode'](0xff&_0x28074a>>(-0x2*_0x463326&0x6)):0x0){_0x2985e3=_0xef5d60['indexOf'](_0x2985e3);}for(let _0x22dde5=0x0,_0x39c69f=_0x27f7fd['length'];_0x22dde5<_0x39c69f;_0x22dde5++){_0x88007a+='%'+('00'+_0x27f7fd['charCodeAt'](_0x22dde5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x88007a);};_0x21e9['RKuCPB']=_0x290970,_0x164e9b=arguments,_0x21e9['LyqyUD']=!![];}const _0x479389=_0x1e46e9[0x0],_0x4c2e93=_0x21e9f5+_0x479389,_0x2f3117=_0x164e9b[_0x4c2e93];return!_0x2f3117?(_0x26b865=_0x21e9['RKuCPB'](_0x26b865),_0x164e9b[_0x4c2e93]=_0x26b865):_0x26b865=_0x2f3117,_0x26b865;},_0x21e9(_0x164e9b,_0x50447b);}ocrFrameDiv=0x7,ocrFrameDivTop=Math[_0x6c1a37(0x141)+'r'](ocrFrameDiv/0x2)/ocrFrameDiv,ocrFrameDivBottom=(Math[_0x6c1a37(0x141)+'r'](ocrFrameDiv/0x2)+0x1)/ocrFrameDiv,$(_0x6c1a37(0xc9)+'ton_'+_0x6c1a37(0x1c1)+'t')[_0x6c1a37(0x17d)](_0x6c1a37(0x174)+_0x6c1a37(0x164),!![]),$('#res'+_0x6c1a37(0xf2))['clic'+'k'](function(){const _0x5f49af=_0x6c1a37;currentTab='tab_',$(_0x5f49af(0x1b0)+_0x5f49af(0x14a)+_0x5f49af(0xf3))[_0x5f49af(0x19d)](_0x5f49af(0x19f)+_0x5f49af(0x19c)+_0x5f49af(0x14b)+'„Çπ„Ç≠„É£„É≥'+_0x5f49af(0x103)+_0x5f49af(0x137)),$('#div'+_0x5f49af(0x15f))[_0x5f49af(0xda)+'apse'](_0x5f49af(0x17e)),$(_0x5f49af(0x1b0)+_0x5f49af(0x118)+_0x5f49af(0x1c8)+'n')['moda'+'l'](_0x5f49af(0xdb)),startVideo();}),$(_0x6c1a37(0x1b0)+_0x6c1a37(0x118)+'rsca'+'n')['on'](_0x6c1a37(0x17e)+'.bs.'+_0x6c1a37(0xe4)+'l',function(_0x558763){const _0x31e8bf=_0x6c1a37;stopVideo(),clearRect(),$('#fil'+_0x31e8bf(0xd6)+'age')[_0x31e8bf(0x17c)]('');}),$(_0x6c1a37(0x1b0)+'al_o'+'k')[_0x6c1a37(0xef)+'k'](async function(){const _0x47ac6e=_0x6c1a37;if(currentTab=='tab_'+_0x47ac6e(0xff)+_0x47ac6e(0x1cc)){}else currentTab==_0x47ac6e(0x132)&&($(_0x47ac6e(0xfb)+'ress')['text'](scanData[_0x47ac6e(0x107)+_0x47ac6e(0x196)+'t']),$(_0x47ac6e(0x1c6)+'3')[_0x47ac6e(0xdb)](),scanData[_0x47ac6e(0x107)+_0x47ac6e(0x196)+'t']='');}),$(_0x6c1a37(0x197)+'e_im'+_0x6c1a37(0x1c3))[_0x6c1a37(0x171)+'ge'](function(_0xef5d60){const _0x286de4=_0x6c1a37;scanFileImage('file'+_0x286de4(0xfa)+'ge');}),$(_0x6c1a37(0xc9)+_0x6c1a37(0x1bb)+_0x6c1a37(0x19a))['clic'+'k'](function(){const _0x3f22c4=_0x6c1a37;isMovieScanning=![],scale=0x2,canvas2=document[_0x3f22c4(0x1c9)+_0x3f22c4(0x110)+_0x3f22c4(0xf9)+'t']('canv'+'as'),canvas2[_0x3f22c4(0x14f)+'h']=canvasElement['widt'+'h']*scale,canvas2['heig'+'ht']=canvasElement[_0x3f22c4(0x11b)+'ht']/ocrFrameDiv*scale,ctx2=canvas2[_0x3f22c4(0x133)+_0x3f22c4(0xf1)+'xt']('2d'),ctx2[_0x3f22c4(0x177)+_0x3f22c4(0x142)+'e'](canvasElement,0x0,canvasElement[_0x3f22c4(0x11b)+'ht']*ocrFrameDivTop,canvasElement['widt'+'h'],canvasElement[_0x3f22c4(0x11b)+'ht']/ocrFrameDiv,0x0,0x0,canvasElement[_0x3f22c4(0x14f)+'h']*scale,canvasElement['heig'+'ht']/ocrFrameDiv*scale);const _0x27f7fd=Tesseract[_0x3f22c4(0x1c9)+_0x3f22c4(0xc6)+_0x3f22c4(0x128)]();(async()=>{const _0x55dbfa=_0x3f22c4;await _0x27f7fd[_0x55dbfa(0xe6)](),await _0x27f7fd['load'+_0x55dbfa(0xcb)+_0x55dbfa(0xd5)]('eng'),await _0x27f7fd[_0x55dbfa(0x15a)+_0x55dbfa(0xbf)+'ze'](_0x55dbfa(0x180)),await _0x27f7fd[_0x55dbfa(0x13b)+_0x55dbfa(0x18d)+_0x55dbfa(0xd4)+'s']({'tessedit_char_whitelist':'2345'+_0x55dbfa(0x1b7)+_0x55dbfa(0x16b)+_0x55dbfa(0xc7)+'KLMN'+_0x55dbfa(0x1d0)+'STUV'+_0x55dbfa(0x1a1)+'-'});const {data:{text:_0x88007a}}=await _0x27f7fd[_0x55dbfa(0x109)+'gniz'+'e'](canvas2);var _0x463326=_0x88007a[_0x55dbfa(0x122)+'h'](/N[0-Z]{5}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{2}[AIQY]/);validAddress='';if(_0x463326){splitedAddress=_0x463326[0x0][_0x55dbfa(0x101)+'t'](/[S5]/),balls=[...Array(splitedAddress[_0x55dbfa(0x187)+'th'])['keys']()];for(ii=0x1;ii<balls[_0x55dbfa(0x187)+'th'];ii++){combi=kumiawase(balls,ii),console['log'](combi);for(i=0x0;i<combi[_0x55dbfa(0x187)+'th'];i++){builder='';for(j=0x0;j<splitedAddress[_0x55dbfa(0x187)+'th'];j++){builder=builder+splitedAddress[j],j!==splitedAddress[_0x55dbfa(0x187)+'th']-0x1&&(combi[i][_0x55dbfa(0x125)+_0x55dbfa(0x170)](j)?builder=builder+'S':builder=builder+'5');}console['log'](builder),console[_0x55dbfa(0xc2)](nem[_0x55dbfa(0x15b)+_0x55dbfa(0xee)][_0x55dbfa(0x181)+_0x55dbfa(0xd3)+_0x55dbfa(0x1b5)+_0x55dbfa(0x15d)+'s'](builder[_0x55dbfa(0x154)+'ace'](/-/g,''))),nem['Addr'+_0x55dbfa(0xee)][_0x55dbfa(0x181)+_0x55dbfa(0xd3)+_0x55dbfa(0x1b5)+_0x55dbfa(0x15d)+'s'](builder[_0x55dbfa(0x154)+_0x55dbfa(0x161)](/-/g,''))&&(validAddress=builder,scanData[_0x55dbfa(0x107)+'rTex'+'t']=validAddress);}}splitedAddress2=_0x463326[0x0]['spli'+'t'](/[Z2]/),balls=[...Array(splitedAddress2[_0x55dbfa(0x187)+'th'])[_0x55dbfa(0x1af)]()];for(ii=0x1;ii<balls[_0x55dbfa(0x187)+'th'];ii++){combi=kumiawase(balls,ii);for(i=0x0;i<combi[_0x55dbfa(0x187)+'th'];i++){builder='';for(j=0x0;j<splitedAddress2['leng'+'th'];j++){builder=builder+splitedAddress2[j],j!==splitedAddress2[_0x55dbfa(0x187)+'th']-0x1&&(combi[i][_0x55dbfa(0x125)+'udes'](j)?builder=builder+'2':builder=builder+'Z');}nem[_0x55dbfa(0x15b)+_0x55dbfa(0xee)][_0x55dbfa(0x181)+_0x55dbfa(0xd3)+_0x55dbfa(0x1b5)+_0x55dbfa(0x15d)+'s'](builder['repl'+_0x55dbfa(0x161)](/-/g,''))&&(validAddress=builder,scanData[_0x55dbfa(0x107)+_0x55dbfa(0x196)+'t']=validAddress);}}splitedAddress4=_0x463326[0x0][_0x55dbfa(0x101)+'t'](/[A4]/),balls=[...Array(splitedAddress4[_0x55dbfa(0x187)+'th'])[_0x55dbfa(0x1af)]()];for(ii=0x1;ii<balls[_0x55dbfa(0x187)+'th'];ii++){combi=kumiawase(balls,ii);for(i=0x0;i<combi[_0x55dbfa(0x187)+'th'];i++){builder='';for(j=0x0;j<splitedAddress4['leng'+'th'];j++){builder=builder+splitedAddress4[j],j!==splitedAddress4[_0x55dbfa(0x187)+'th']-0x1&&(combi[i][_0x55dbfa(0x125)+_0x55dbfa(0x170)](j)?builder=builder+'4':builder=builder+'A');}nem['Addr'+_0x55dbfa(0xee)][_0x55dbfa(0x181)+'lidR'+_0x55dbfa(0x1b5)+_0x55dbfa(0x15d)+'s'](builder[_0x55dbfa(0x154)+_0x55dbfa(0x161)](/-/g,''))&&(validAddress=builder,scanData[_0x55dbfa(0x107)+_0x55dbfa(0x196)+'t']=validAddress);}}validAddress===''&&alert(_0x55dbfa(0x1a4)+_0x55dbfa(0xf4)+_0x55dbfa(0x1bf)+_0x55dbfa(0xc4)+'„ÄÇ'+_0x463326[0x0]),console[_0x55dbfa(0xc2)](_0x88007a),console[_0x55dbfa(0xc2)](_0x463326);}else alert(_0x55dbfa(0x1a4)+_0x55dbfa(0xf4)+_0x55dbfa(0x1bf)+_0x55dbfa(0xc4)+'„ÄÇ');$(_0x55dbfa(0xc9)+'ton_'+_0x55dbfa(0x1c1)+'t')[_0x55dbfa(0x17d)](_0x55dbfa(0x174)+_0x55dbfa(0x164),![]),$(_0x55dbfa(0xc9)+_0x55dbfa(0x1bb)+'snap')[_0x55dbfa(0x17d)](_0x55dbfa(0x174)+_0x55dbfa(0x164),!![]),await _0x27f7fd[_0x55dbfa(0x147)+_0x55dbfa(0x1bc)+'e']();})();});function kumiawase(_0x28074a,_0x2985e3){const _0x2bc927=_0x6c1a37;var _0x32ced7,_0x22dde5,_0x39c69f,_0x2a1066,_0x213338;_0x32ced7=[],_0x2a1066=_0x28074a[_0x2bc927(0x187)+'th'];if(_0x2a1066<_0x2985e3)return;else{if(_0x2985e3==0x1)for(_0x22dde5=0x0;_0x22dde5<_0x2a1066;_0x22dde5++){_0x32ced7[_0x22dde5]=[_0x28074a[_0x22dde5]];}else for(_0x22dde5=0x0;_0x22dde5<_0x2a1066-_0x2985e3+0x1;_0x22dde5++){_0x213338=kumiawase(_0x28074a[_0x2bc927(0xe2)+'e'](_0x22dde5+0x1),_0x2985e3-0x1);for(_0x39c69f=0x0;_0x39c69f<_0x213338[_0x2bc927(0x187)+'th'];_0x39c69f++){_0x32ced7['push']([_0x28074a[_0x22dde5]][_0x2bc927(0xdc)+'at'](_0x213338[_0x39c69f]));}}}return _0x32ced7;}$(_0x6c1a37(0xc9)+_0x6c1a37(0x1bb)+_0x6c1a37(0x1c1)+'t')[_0x6c1a37(0xef)+'k'](function(){const _0xc46c73=_0x6c1a37;isMovieScanning=!![],scanData[_0xc46c73(0x107)+_0xc46c73(0x196)+'t']='',requestAnimationFrame(tick),$(_0xc46c73(0xc9)+_0xc46c73(0x1bb)+_0xc46c73(0x19a))[_0xc46c73(0x17d)]('disa'+_0xc46c73(0x164),![]),$(_0xc46c73(0xc9)+_0xc46c73(0x1bb)+_0xc46c73(0x1c1)+'t')['prop']('disa'+'bled',!![]);});var canvasElement,canvas,isMovieScanning=![],video=document[_0x6c1a37(0x1c9)+_0x6c1a37(0x110)+_0x6c1a37(0xf9)+'t']('vide'+'o');function drawLine(_0xa0f437,_0x44ddce,_0x258009){const _0x404cfe=_0x6c1a37;canvas[_0x404cfe(0xea)+'nPat'+'h'](),canvas['move'+'To'](_0xa0f437['x'],_0xa0f437['y']),canvas[_0x404cfe(0x11e)+'To'](_0x44ddce['x'],_0x44ddce['y']),canvas[_0x404cfe(0x11e)+'Widt'+'h']=0x4,canvas[_0x404cfe(0x160)+_0x404cfe(0xd7)+_0x404cfe(0x172)]=_0x258009,canvas['stro'+'ke']();}function drawFrame(){const _0x39136b=_0x6c1a37;drawLine({'x':0x0,'y':canvasElement['heig'+'ht']*ocrFrameDivTop},{'x':canvasElement[_0x39136b(0x14f)+'h'],'y':canvasElement[_0x39136b(0x11b)+'ht']*ocrFrameDivTop},_0x39136b(0x183)+'B58'),drawLine({'x':canvasElement[_0x39136b(0x14f)+'h'],'y':canvasElement['heig'+'ht']*ocrFrameDivTop},{'x':canvasElement['widt'+'h'],'y':canvasElement[_0x39136b(0x11b)+'ht']*ocrFrameDivBottom},_0x39136b(0x183)+_0x39136b(0x175)),drawLine({'x':canvasElement[_0x39136b(0x14f)+'h'],'y':canvasElement['heig'+'ht']*ocrFrameDivBottom},{'x':0x0,'y':canvasElement[_0x39136b(0x11b)+'ht']*ocrFrameDivBottom},'#FF3'+_0x39136b(0x175)),drawLine({'x':0x0,'y':canvasElement[_0x39136b(0x11b)+'ht']*ocrFrameDivBottom},{'x':0x0,'y':canvasElement['heig'+'ht']*ocrFrameDivTop},_0x39136b(0x183)+_0x39136b(0x175));}function tick(){const _0xe6ddef=_0x6c1a37;if(!isMovieScanning)return;video[_0xe6ddef(0x190)+'ySta'+'te']===video[_0xe6ddef(0xc1)+'_ENO'+_0xe6ddef(0x1b2)+_0xe6ddef(0x127)]&&(canvasElement[_0xe6ddef(0x198)+'en']=![],canvasElement[_0xe6ddef(0x14f)+'h']=$(_0xe6ddef(0xe3)+_0xe6ddef(0xeb)+_0xe6ddef(0xf1)+'nt')[_0xe6ddef(0x14f)+'h']()*0.9,canvasElement[_0xe6ddef(0x11b)+'ht']=$(_0xe6ddef(0xe3)+_0xe6ddef(0xeb)+'onte'+'nt')['widt'+'h']()*0.9*video[_0xe6ddef(0x1ce)+_0xe6ddef(0x19b)+_0xe6ddef(0xfd)]/video[_0xe6ddef(0x1ce)+_0xe6ddef(0xf6)+'th'],getCodeInfo(video)),drawFrame(),requestAnimationFrame(tick);}function getCodeInfo(_0x36baf0){const _0x3c6812=_0x6c1a37;canvas['draw'+_0x3c6812(0x142)+'e'](_0x36baf0,0x0,0x0,canvasElement['widt'+'h'],canvasElement['heig'+'ht']);var _0x300790=canvas[_0x3c6812(0x162)+_0x3c6812(0x1cf)+_0x3c6812(0x13a)](0x0,0x0,canvasElement[_0x3c6812(0x14f)+'h'],canvasElement[_0x3c6812(0x11b)+'ht']);}function startVideo(){const _0x4f12fd=_0x6c1a37;isMovieScanning=!![],canvasElement=document[_0x4f12fd(0xd0)+_0x4f12fd(0xdd)+_0x4f12fd(0x18e)+'Id'](_0x4f12fd(0x12d)+'as'),canvas=canvasElement[_0x4f12fd(0x133)+_0x4f12fd(0xf1)+'xt']('2d'),navigator['medi'+'aDev'+_0x4f12fd(0x150)][_0x4f12fd(0x189)+'serM'+_0x4f12fd(0x149)]({'video':{'facingMode':_0x4f12fd(0x136)+_0x4f12fd(0x193)+_0x4f12fd(0x159)}})['then'](function(_0x5dc24b){const _0x3f1a13=_0x4f12fd;video[_0x3f1a13(0x111)+_0x3f1a13(0x158)+'t']=_0x5dc24b,window[_0x3f1a13(0xce)+_0x3f1a13(0x144)+'eam']=_0x5dc24b,video[_0x3f1a13(0x182)+'ttri'+_0x3f1a13(0x138)](_0x3f1a13(0x1b8)+_0x3f1a13(0xf7)+'ine',!![]),video[_0x3f1a13(0x1b8)](),requestAnimationFrame(tick);});}function stopVideo(){const _0x17b5a6=_0x6c1a37;window['loca'+_0x17b5a6(0x144)+_0x17b5a6(0xc5)]!=undefined&&window['loca'+_0x17b5a6(0x144)+_0x17b5a6(0xc5)]['getT'+'rack'+'s']()['forE'+_0x17b5a6(0x1ca)](_0x193643=>{_0x193643['stop']();});}function clearRect(){const _0x43a863=_0x6c1a37;canvas[_0x43a863(0xf0)+_0x43a863(0x1b6)+'t'](0x0,0x0,canvasElement[_0x43a863(0x14f)+'h'],canvasElement[_0x43a863(0x11b)+'ht']);}function _0x1e46(){const _0x2ab1d9=['CLjLyW','nJDbqG','CgXHEq','C2nHBG','tMv0DW','Dg9UxW','Aw5HDa','rdLgmq','BwjVBa','44oZ44gR5AsX5Pwx','qJzbrq','CMvZzq','C2fNzq','ywDL','u1Desa','yMXHBG','i2rPDG','tgLZDa','CNnJyq','y3jLyq','ywnO','mZqWmtK1mLnbDLbIyq','C2zLCG','Dgvoyq','DMLKzq','BwfNzq','t1bruG','s1vpvq','x05fva','AwfSAq','sLfcnW','sefwrq','Bg9N','Dw50','44gx44g+44gx44gF','zwfT','DgvxBW','r0HjsG','mefbmG','i2j1Da','ig9UyW','tgfUzW','mte3mte2ndzvte9vCfK','yxbWzq','Bg9Jyq','B3j5','z2v0rq','44oP44o844gN56k6','lxnKAW','BgLKuG','zxrLCG','DwfNzq','zv9PBq','A2vtDa','qJveoa','BwvZCa','y29SBa','C2HVDW','y29UyW','BgvTzq','C3vICW','l3DZ','Bg9Zzq','otiXyMnqyNLt','C2XPyW','lM1Vza','Bw9Kyq','mZeWmW','Bg9Hza','pgeGDa','mdrdra','pgXPpG','yMvNAq','ywWTyW','Aw1HzW','zw5LCG','zxnZ','y2XPyW','y2XLyq','B250zq','Dg9Yzq','ywjLBa','44gU44k544kT44oJ','mue0ma','B1DPza','C2LUBa','BNnHyW','zw1LBG','x2LTyq','i2fKza','ndyYqq','z2H0','n0reqG','DhjHBG','rdG0mW','C3bSAq','Bwf0BW','44gx44gM44gp44gG','CNLgyq','C3jJ','tw9Zyq','Aw5Uzq','Dg9YCW','CMvJBW','Bg9JAW','mtbttK9WzNC','mZeWq0TLzuPe','ndu3mtrSvMLKwu0','oufdnG','6kQnpc9H','DgvfBa','C3jJtW','nZHdmq','44gx44gM5lIl44gv','zhvSzq','y3rVCG','zs9QCa','yM9SyG','ywWTCq','CMvZCW','DhLWzq','AgvPzW','l3rYyq','zv9TBW','BgLUzq','CMvMpq','ndu4rq','zxHWBa','Bwf0yW','CY9YEa','Awnjza','Aw5JBa','rtG0nW','refuqq','CMTLCG','BgLZDa','utjbqG','BLjLCa','rgvHza','y2fUDG','qurbrq','i3nLBG','44glue5h','44ov44kH44kK44oR','DgfIxW','z2v0qW','AxrVCG','vhjHBG','zw52Aq','44gv44ge44cc','yNv0zq','D0fKza','rgf0yq','C2v0ua','n3PPBvnqzG','v1zj','reeYma','uMvWBW','l25Vza','zMXVBW','sw1HzW','B3jLCG','Bfn0CG','ywnLuG','ntaWoa','DgvYBq','ngrYy3jczG','zwrPyq','ywWTBa','44gR5ywL44km44gM','CY9ZEq','CMvZDq','qwnJBW','D2LKDa','AwnLCW','C2v0tq','44k544ox44oT44o8','sgfWCa','CMvWBa','B3jRva','AgfZAa','qtnemq','yMPLyW','zw50','Aw5PDa','qwrKCG','Dw5Jzq','zhjLCW','qZncra','lw5Z','C3rYBW','ywnL','z2v0sq','zxbVCW','yMXLza','EuH0Da','tKjhna','ntu4oa','BI5PBW','zuTLEq','rKzdnW','q0rfrG','B3nL','reiWna','D2vIuW','Dd0IxW','DwrLCW','y2HHBG','EwXL','y3rPBW','zgLZyq','qJu4','AxzHDa','zhjHDW','BMeH','DwX0ia','ExbL','zNjVBq','DMfS','ChjVCa','AgLKzq','C2L0BW','zw5N','Axnwyq','C2v0qq','i0zgmW','ANmVBW','lNn5Bq','nujcsa','BgvUzW','mZi5mq','z2v0vq','x2rHDa','ntaWnJuWndHxB1D2rgq','B25SBW','yxjHBq','BNrcEq','B21syq','CMvHza','BK1LCW','B25JBa','CM9UBq','mtq0ntq4mdbAueLuBg0','Ahr0Ca','CLrLEa','i2zPBa','AgLKza','iMH0Da','C25HCa','B0HLAq','44ks6lwK5P6G5yAf','Dgv4Da','y3jPyG','44og44kT44k544oi','nvPwuq','v1HzwG','vuLUDa','ig9Wzq','44kI44oj44oS44k5','pJWVBa','yxjNzq','DgvuCG','CZOVlW','yM9VAW','44ks44kI44od44ox','qxneyq','mJuXndu4nejKzvjKwa','B2nRzq','tufjtG','A2v5CW','i21Vza','qZG0oa','vuDixW','tsbuBW','oemWnW','yxDbza'];_0x1e46=function(){return _0x2ab1d9;};return _0x1e46();}function scanFileImage(_0x246429){const _0x1b5535=_0x6c1a37;isMovieScanning=![],canvasElement['hidd'+'en']=![],stopVideo();const _0x3990d6=document[_0x1b5535(0xd0)+_0x1b5535(0xdd)+_0x1b5535(0x18e)+'Id'](_0x246429)['file'+'s'],_0x19eca2=new FileReader(),_0x2bcc20=_0x3990d6[0x0];_0x2bcc20['type']==_0x1b5535(0xec)+_0x1b5535(0x116)+'eg'||_0x2bcc20[_0x1b5535(0x11a)]==_0x1b5535(0xec)+'e/pn'+'g'?(_0x19eca2[_0x1b5535(0x190)+_0x1b5535(0x1ab)+'taUR'+'L'](_0x2bcc20,'utf-'+'8'),_0x19eca2[_0x1b5535(0x18c)+'ad']=function(_0x454ac7){return function(_0x4bc670){const _0x2fb25d=_0x21e9,_0x1267a6=new Image();_0x1267a6[_0x2fb25d(0x105)]=_0x4bc670['targ'+'et'][_0x2fb25d(0x14d)+'lt'],_0x1267a6['onlo'+'ad']=function(){const _0x50a150=_0x2fb25d;canvasElement['widt'+'h']=$(_0x50a150(0xe3)+_0x50a150(0xeb)+_0x50a150(0xf1)+'nt')[_0x50a150(0x14f)+'h']()*0.9,canvasElement[_0x50a150(0x11b)+'ht']=$(_0x50a150(0xe3)+'al-c'+_0x50a150(0xf1)+'nt')['widt'+'h']()*0.9*_0x1267a6['heig'+'ht']/_0x1267a6[_0x50a150(0x14f)+'h'],getCodeInfo(_0x1267a6),drawFrame();};};}(_0x2bcc20)):alert('JPEG'+_0x1b5535(0x130)+_0x1b5535(0x131)+_0x1b5535(0x1aa)+_0x1b5535(0x113)+'„ÅÑ');}const nem=require(_0x6c1a37(0x140)+'e_mo'+_0x6c1a37(0x114)+_0x6c1a37(0x14c)+_0x6c1a37(0x1be)+_0x6c1a37(0xd2)),op=require(_0x6c1a37(0x140)+_0x6c1a37(0x11d)+_0x6c1a37(0x114)+_0x6c1a37(0x123)+_0x6c1a37(0x184)+'pera'+_0x6c1a37(0x108)),rxjs=require(_0x6c1a37(0x140)+_0x6c1a37(0x11d)+_0x6c1a37(0x114)+_0x6c1a37(0x123)+'js'),node=_0x6c1a37(0x195)+_0x6c1a37(0x1a8)+'node'+'.xem'+_0x6c1a37(0x1a9)+'.net',repo=new nem[(_0x6c1a37(0x13f))+(_0x6c1a37(0x17f))+(_0x6c1a37(0x104))+(_0x6c1a37(0x115))+(_0x6c1a37(0x165))+'p'](node),txRepo=repo[_0x6c1a37(0x1c9)+_0x6c1a37(0x1a7)+'ansa'+_0x6c1a37(0x173)+_0x6c1a37(0x12b)+'osit'+_0x6c1a37(0xcf)](),nsRepo=repo[_0x6c1a37(0x1c9)+_0x6c1a37(0x1cd)+_0x6c1a37(0xd9)+_0x6c1a37(0x145)+_0x6c1a37(0x163)+_0x6c1a37(0x134)+'y']();var listener;(async()=>{const _0x315a55=_0x6c1a37;if(listener===undefined){const _0x50c92c=node[_0x315a55(0x154)+'ace'](_0x315a55(0x195),'ws')+_0x315a55(0xdf);await _0xc4e8cb(_0x50c92c,repo[_0x315a55(0x1c9)+_0x315a55(0x1cd)+_0x315a55(0xd9)+_0x315a55(0x145)+_0x315a55(0x163)+'itor'+'y']());}async function _0xc4e8cb(_0x3aedbe,_0x11c88b){const _0x2f0ed6=_0x315a55;listener=new nem[(_0x2f0ed6(0x1c7))+(_0x2f0ed6(0xed))](_0x3aedbe,_0x11c88b,WebSocket),await listener['open'](),console['log'](_0x2f0ed6(0x129)+_0x2f0ed6(0xed)+_0x2f0ed6(0x1a3)+'n'),listener[_0x2f0ed6(0x16e)+_0x2f0ed6(0x1ad)+'t'][_0x2f0ed6(0x192)+_0x2f0ed6(0x16c)]=async function(){const _0x25768f=_0x2f0ed6;console[_0x25768f(0xc2)]('list'+_0x25768f(0xed)+_0x25768f(0xca)+_0x25768f(0xe0)),await _0xc4e8cb(_0x3aedbe,_0x11c88b);};}})(),$(_0x6c1a37(0x12f)+'d_to'+_0x6c1a37(0x102))[_0x6c1a37(0xef)+'k'](function(){const _0x5df38b=_0x6c1a37;privateKey=_0x5df38b(0xd8)+_0x5df38b(0x15e)+'E539'+_0x5df38b(0x12e)+_0x5df38b(0xfe)+_0x5df38b(0x1b4)+_0x5df38b(0x167)+_0x5df38b(0x188)+_0x5df38b(0xfc)+_0x5df38b(0x16d)+_0x5df38b(0x1b1)+_0x5df38b(0x157)+_0x5df38b(0x126)+'5231'+_0x5df38b(0x10e)+_0x5df38b(0x16a),alice=nem[_0x5df38b(0x14e)+_0x5df38b(0xc3)]['crea'+'teFr'+'omPr'+_0x5df38b(0x176)+_0x5df38b(0x169)](privateKey,nem[_0x5df38b(0x1ba)+_0x5df38b(0x155)+_0x5df38b(0x17a)][_0x5df38b(0x1ae)+_0x5df38b(0x1d2)]),address=nem['Addr'+_0x5df38b(0xee)][_0x5df38b(0x1c9)+'teFr'+_0x5df38b(0x18f)+_0x5df38b(0x139)+_0x5df38b(0x119)]('ND7M'+_0x5df38b(0x166)+'RYJX'+_0x5df38b(0x186)+_0x5df38b(0x12a)+_0x5df38b(0x1a0)+_0x5df38b(0x1c4)+_0x5df38b(0x1d1)+_0x5df38b(0xc0)+_0x5df38b(0x13d)),tx=nem[_0x5df38b(0x135)+'sfer'+_0x5df38b(0x135)+'sact'+'ion']['crea'+'te'](nem[_0x5df38b(0x12c)+_0x5df38b(0x11e)][_0x5df38b(0x1c9)+'te'](0x604ff681),address,[new nem[(_0x5df38b(0x106))+'ic'](new nem[(_0x5df38b(0x106))+(_0x5df38b(0x124))](_0x5df38b(0xe5)+_0x5df38b(0x112)+'8A14'+'0D1B'),nem[_0x5df38b(0x1a2)+'64'][_0x5df38b(0x17b)+'Uint'](0x1))],nem['Plai'+_0x5df38b(0x191)+_0x5df38b(0x1c2)][_0x5df38b(0x1c9)+'te'](_0x5df38b(0x153)+'y\x20NE'+_0x5df38b(0x1b3)+'mati'+_0x5df38b(0x178)),nem[_0x5df38b(0x1ba)+_0x5df38b(0x155)+_0x5df38b(0x17a)][_0x5df38b(0x1ae)+_0x5df38b(0x1d2)])[_0x5df38b(0x151)+'axFe'+'e'](0x64),signedTx=alice['sign'](tx,'57F7'+_0x5df38b(0x13e)+_0x5df38b(0x146)+'026C'+'776C'+_0x5df38b(0x1c0)+_0x5df38b(0x100)+'393F'+_0x5df38b(0xe8)+_0x5df38b(0x120)+_0x5df38b(0xc8)+_0x5df38b(0x1bd)+'D5F3'+_0x5df38b(0xf5)+'2072'+'B2D6'),console[_0x5df38b(0xc2)](signedTx['hash']),txRepo['anno'+_0x5df38b(0x15c)](signedTx)[_0x5df38b(0xde)+_0x5df38b(0x19e)+'e'](_0x2d2875=>{const _0x333f5a=_0x5df38b;$('#res'+_0x333f5a(0x179)+'ul')[_0x333f5a(0xcd)+'nd'](_0x333f5a(0xe9)+_0x333f5a(0xe7)+_0x333f5a(0x1a6)+_0x333f5a(0x16f)+_0x333f5a(0x1c5)+'k\x22\x20h'+_0x333f5a(0x11f)+_0x333f5a(0x199)+'p://'+_0x333f5a(0x121)+_0x333f5a(0x143)+_0x333f5a(0x185)+_0x333f5a(0x117)+_0x333f5a(0x10a)+'chai'+_0x333f5a(0x168)+_0x333f5a(0x11c)+_0x333f5a(0xf8)+'tion'+'s/'+signedTx[_0x333f5a(0x156)]+('\x22>„Ç®„ÇØ'+_0x333f5a(0x152)+_0x333f5a(0xd1)+_0x333f5a(0x10f)+_0x333f5a(0x1a5)+'i>')),console[_0x333f5a(0xc2)](_0x2d2875);});});

/*

var currentTab;			//„Ç´„É°„É©Êìç‰Ωú„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅÆÁèæÂú®ÈÅ∏Êäû‰∏≠„ÅÆ„Çø„Éñ
var scanData = document.getElementById("scan_data");

ocrFrameDiv = 7;
ocrFrameDivTop = (Math.floor(ocrFrameDiv / 2)  )/ ocrFrameDiv;
ocrFrameDivBottom = (Math.floor(ocrFrameDiv / 2)+1) / ocrFrameDiv;

//‚ñ†‚ñ†‚ñ†CONTROLLER‚ñ†‚ñ†‚ñ†
$('#button_reset').prop('disabled', true);

//„É≠„Ç∞„Ç§„É≥
$("#restore").click(function(){

	currentTab = "tab_";
	$('#modal-label').text("„ÉÜ„Ç≠„Çπ„Éà„ÇíËµ§Êû†ÂÜÖ„Å´ÂÖ•„Çå„Å¶„Çπ„Ç≠„É£„É≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ")
	$('#div-ns').collapse('hide');
	$('#modal-qrscan').modal('show');
	startVideo();
});


//„Çπ„Ç≠„É£„É≥„É¢„Éº„ÉÄ„É´„ÅåÈñâ„Åò„Çâ„Çå„ÅüÊôÇ
$('#modal-qrscan').on('hide.bs.modal', function (e) {

	stopVideo();
	clearRect();
	$('#file_image').val("");
});

//„É¢„Éº„ÉÄ„É´„Ç¶„Ç£„É≥„Éâ„Ç¶OK„ÇØ„É™„ÉÉ„ÇØÊôÇ(„É¢„Éº„ÉÄ„É´Èñâ„Åò„Çã)
$("#modal_ok").click(async function(){

	if(currentTab == "tab_transfer"){	//ÈÄÅ‰ø°
	}else if(currentTab == "tab_"){	//Âæ©ÂÖÉ

		$("#address").text(scanData.innerText);
		$("#div3").show();
		scanData.innerText = "";
	}
});

$('#file_image').change(function(e){scanFileImage("file_image");});
$("#button_snap").click(function(){
	isMovieScanning = false;

	scale = 2;
	
	canvas2 = document.createElement("canvas");
//	canvas2 = document.getElementById("canvas2");
	canvas2.width=canvasElement.width * scale;
	canvas2.height=canvasElement.height / ocrFrameDiv * scale;

	ctx2 = canvas2.getContext('2d');
	ctx2.drawImage( canvasElement,
		0,canvasElement.height * ocrFrameDivTop ,
		canvasElement.width,canvasElement.height/ ocrFrameDiv ,
		0,0,
		canvasElement.width * scale,canvasElement.height/ocrFrameDiv * scale
	);

	const worker = Tesseract.createWorker();
	(async () => {
		await worker.load();
		await worker.loadLanguage('eng');
		await worker.initialize('eng');
	   await worker.setParameters({
	 	tessedit_char_whitelist: '234567ABCDEFGHIJKLMNOPQRSTUVWXYZ-',
	   });
		const { data: { text } } = await worker.recognize(canvas2);
		var scanedAddress = text.match(/N[0-Z]{5}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{2}[AIQY]/);
		
		validAddress = "";
		if(scanedAddress){
			
			splitedAddress = scanedAddress[0].split(/[S5]/);
			balls = [...Array(splitedAddress.length ).keys()] ;

			for(ii=1;ii<balls.length;ii++){
				combi = kumiawase(balls,ii);
				console.log(combi);
				for(i=0;i<combi.length;i++){

					builder = "";
					for(j=0;j<splitedAddress.length;j++){
						builder = builder + splitedAddress[j];
						
						if(j !== splitedAddress.length - 1){
							if(combi[i].includes(j)  ){
								builder = builder + "S";
							}else{
								builder = builder + "5";
							}
						}
					}
					console.log(builder);
					console.log(nem.Address.isValidRawAddress(builder.replace(/-/g, '')));
					if(nem.Address.isValidRawAddress(builder.replace(/-/g, ''))){
						validAddress = builder;
						scanData.innerText = validAddress;
					}
				}
			}

			splitedAddress2 = scanedAddress[0].split(/[Z2]/);
			balls = [...Array(splitedAddress2.length ).keys()] ;

			for(ii=1;ii<balls.length;ii++){
				combi = kumiawase(balls,ii);
				for(i=0;i<combi.length;i++){

					builder = "";
					for(j=0;j<splitedAddress2.length;j++){
						builder = builder + splitedAddress2[j];
						
						if(j !== splitedAddress2.length - 1){
							if(combi[i].includes(j)  ){
								builder = builder + "2";
							}else{
								builder = builder + "Z";
							}
						}
					}
					if(nem.Address.isValidRawAddress(builder.replace(/-/g, ''))){
						validAddress = builder;
						scanData.innerText = validAddress;
					}
				}
			}

			splitedAddress4 = scanedAddress[0].split(/[A4]/);
			balls = [...Array(splitedAddress4.length ).keys()] ;

			for(ii=1;ii<balls.length;ii++){
				combi = kumiawase(balls,ii);
				for(i=0;i<combi.length;i++){

					builder = "";
					for(j=0;j<splitedAddress4.length;j++){
						builder = builder + splitedAddress4[j];
						
						if(j !== splitedAddress4.length - 1){
							if(combi[i].includes(j)  ){
								builder = builder + "4";
							}else{
								builder = builder + "A";
							}
						}
					}
					if(nem.Address.isValidRawAddress(builder.replace(/-/g, ''))){
						validAddress = builder;
						scanData.innerText = validAddress;
					}
				}
			}

			if(validAddress === ""){

				alert("„Ç¢„Éâ„É¨„Çπ„ÅÆ„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ" + scanedAddress[0])
			}
			console.log(text);
			console.log(scanedAddress);

		}else{
			alert("„Ç¢„Éâ„É¨„Çπ„ÅÆ„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ")
		}


		$('#button_reset').prop('disabled', false);
		$('#button_snap').prop('disabled', true);

		await worker.terminate();
	})();
});


function kumiawase(balls, nukitorisu){
  var arrs, i, j, zensu, kumis;
  arrs = [];
  zensu = balls.length;
  if(zensu < nukitorisu){
    return;
  }else if(nukitorisu == 1){
    for(i = 0; i < zensu; i++){
      arrs[i] = [balls[i]];
    }
  }else{
    for(i = 0; i < zensu - nukitorisu + 1; i ++){
      kumis = kumiawase(balls.slice(i + 1), nukitorisu - 1);
      for(j = 0; j < kumis.length; j ++){
        arrs.push([balls[i]].concat(kumis[j]));
      }
    }
  }
  return arrs;
}

$("#button_reset").click(function(){
	isMovieScanning = true;
	scanData.innerText = "";
	requestAnimationFrame(tick);
	$('#button_snap').prop('disabled', false);
	$('#button_reset').prop('disabled', true);

});

//„Çπ„Ç≠„É£„É≥Èñ¢ÈÄ£///////////////////////////////////

var canvasElement;
var canvas;
var isMovieScanning = false;
var video = document.createElement("video");

function drawLine(begin, end, color) {
	canvas.beginPath();
	canvas.moveTo(begin.x, begin.y);
	canvas.lineTo(end.x, end.y);
	canvas.lineWidth = 4;
	canvas.strokeStyle = color;
	canvas.stroke();
}

function drawFrame(){
	drawLine({x:0,y:canvasElement.height*ocrFrameDivTop}, {x:canvasElement.width,y:canvasElement.height*ocrFrameDivTop},"#FF3B58");
	drawLine({x:canvasElement.width,y:canvasElement.height*ocrFrameDivTop}, {x:canvasElement.width,y:canvasElement.height*ocrFrameDivBottom},"#FF3B58");
	drawLine({x:canvasElement.width,y:canvasElement.height*ocrFrameDivBottom}, {x:0,y:canvasElement.height*ocrFrameDivBottom},"#FF3B58");
	drawLine({x:0,y:canvasElement.height*ocrFrameDivBottom}, {x:0,y:canvasElement.height*ocrFrameDivTop},"#FF3B58");

}
function tick() {
	if(!isMovieScanning){return;}
	if (video.readyState === video.HAVE_ENOUGH_DATA) {
		canvasElement.hidden = false;
		canvasElement.width  = $('.modal-content').width() * 0.9;
		canvasElement.height = $('.modal-content').width() * 0.9 * video.videoHeight / video.videoWidth;

		getCodeInfo(video);
	}
	drawFrame();

	requestAnimationFrame(tick);
}

function getCodeInfo(src){

	canvas.drawImage(src, 0, 0, canvasElement.width, canvasElement.height);
	var imageData = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);
}

function startVideo(){

	isMovieScanning = true;
	canvasElement = document.getElementById("canvas");
	canvas		  = canvasElement.getContext("2d");

	navigator.mediaDevices.getUserMedia({
		video: {
			facingMode: "environment"
		}
	})
	.then(function(stream) {
		video.srcObject = stream;
		window.localStream = stream;
		video.setAttribute("playsinline", true);
		video.play();
		requestAnimationFrame(tick);

	});
}

function stopVideo(){
	if(window.localStream != undefined){
		window.localStream.getTracks().forEach( (track) => {
			track.stop();
		});
	}
}

function clearRect(){

	canvas.clearRect(0, 0, canvasElement.width, canvasElement.height);
}
//„Éï„Ç°„Ç§„É´Âá¶ÁêÜÈñ¢ÈÄ£///////////////////////////////

function scanFileImage(tag){

	isMovieScanning = false;
	canvasElement.hidden = false;

	stopVideo();
	const fileList = document.getElementById(tag).files;
	const reader = new FileReader();
	const file = fileList[0];
	if (file.type == 'image/jpeg' || file.type == 'image/png'){
		reader.readAsDataURL(file, "utf-8");
		reader.onload = (function(_) {
			return function(e) {

				const img = new Image();
				img.src = e.target.result;
				img.onload = function() {
					canvasElement.width  = $('.modal-content').width() * 0.9;
					canvasElement.height = $('.modal-content').width() * 0.9 * img.height / img.width;
					getCodeInfo(img);
					drawFrame();
				};
			};
		})(file);
	} else {
		alert('JPEG„ÅãPNG„Éï„Ç°„Ç§„É´„Çí„Ç¢„ÉÉ„Éó„Åó„Å¶‰∏ã„Åï„ÅÑ');
	}
}
////////////////////////////////////////////////////////

const nem = require("/node_modules/symbol-sdk");
const op = require("/node_modules/rxjs/operators");
const rxjs = require("/node_modules/rxjs");

const node = "https://node.xembook.net";
const repo = new nem.RepositoryFactoryHttp(node);
const txRepo = repo.createTransactionRepository();
const nsRepo = repo.createNamespaceRepository();
var listener;

(async() =>{
	if(listener === undefined){
		const wsEndpoint = node.replace('http', 'ws') + "/ws";
		await listenerKeepOpening(wsEndpoint,repo.createNamespaceRepository());
	}

	async function listenerKeepOpening(wsEndpoint,nsRepo){

		listener = new nem.Listener(wsEndpoint,nsRepo,WebSocket);
		await listener.open();
		console.log("listener open");
		listener.webSocket.onclose = async function(){
			console.log("listener onclose");
			await listenerKeepOpening(wsEndpoint,nsRepo);
		}
	}
})();

$("#send_tomato").click(function(){
	privateKey = "";
	alice = nem.Account.createFromPrivateKey(privateKey, nem.NetworkType.MAIN_NET);
	
//	address = $("#address").text();
	address = nem.Address.createFromRawAddress("ND7MNBG4RYJX5BBHQ2AB5ZVQSWDHKUOUJQB7WVI");

	tx = nem.TransferTransaction.create(
		nem.Deadline.create(1615853185),
		address, 
		[new nem.Mosaic(new nem.MosaicId('310378C18A140D1B'), nem.UInt64.fromUint(1))],
		nem.PlainMessage.create('Happy NEM Tomatina!'),
		nem.NetworkType.MAIN_NET
	).setMaxFee(100);
	
	signedTx = alice.sign(tx,"57F7DA205008026C776CB6AED843393F04CD458E0AA2D9F1D5F31A402072B2D6");
	console.log(signedTx.hash);
	txRepo.announce(signedTx).subscribe(x=>{

		$('#result ul')
		.append('<li><a target="_blank" href="http://explorer.symbolblockchain.io/transactions/' + signedTx.hash + '">„Ç®„ÇØ„Çπ„Éó„É≠„Éº„É©„Éº„ÅßÁ¢∫Ë™ç</a></li>');

		console.log(x)
	});
});
*/

</script>
</body>
</html>
