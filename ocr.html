<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
</head>
<body>
<div class="container">

	<h1>OCRüçÖ</h1>

	<div id="div1">
		<button type="button" id="restore" class="btn btn-primary">„Ç´„É°„É©Ëµ∑Âãï</button>
	</div><!-- div1 -->

	<div class="collapse" id="div3">
		<div id="address"></div>
		<button type="button" id="send_tomato" class="btn btn-primary">ÈÄÅ‰ø°</button>
		<div id="result">
			<ul></ul>
		</div>
	</div><!-- div3 -->
</div>

<!-- „Çπ„Ç≠„É£„É≥„É¢„Éº„ÉÄ„É´ -->
<div class="modal fade" id="modal-qrscan" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel2">OCR„Çπ„Ç≠„É£„É≥</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Èñâ„Åò„Çã">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<label id="modal-label"></label>

				<div class="input-group">
					<label class="input-group-btn mr-1">
						<span class="btn btn-primary">
							ÁîªÂÉè„Åß„Çπ„Ç≠„É£„É≥<input id="file_image" type="file" style="display:none">
						</span>
					</label>
				</div>
				<canvas id="canvas"  width="100%" hidden></canvas>
				<!-- canvas id="canvas2"  width="100%"></canvas -->
				<button type="button" id="button_snap" class="btn btn-primary">
					„Çπ„Éä„ÉÉ„Éó
				</button>
				<button type="button" id="button_reset" class="btn btn-primary">
					„É™„Çª„ÉÉ„Éà
				</button>
				<div id="scan_data" class="text-break"></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">„Ç≠„É£„É≥„Çª„É´</button>
				<button type="button" class="btn btn-primary" data-dismiss="modal"	id="modal_ok">OK</button>

			</div><!-- /.modal-footer -->
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script type="text/javascript" src="https://unpkg.com/tesseract.js@2.1.5/dist/tesseract.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous">
</script>
<script src="symbol-sdk-pack-1.0.1.js"></script>
<script src="https://xembook.github.io/xembook/xembook_config.js"></script>

<script>

const _0x282e34=_0x1e68;(function(_0x22d47c,_0x46baac){const _0x496006=_0x1e68,_0x3eae2c=_0x22d47c();while(!![]){try{const _0x26dc94=-parseInt(_0x496006(0x186))/0x1*(-parseInt(_0x496006(0x141))/0x2)+parseInt(_0x496006(0x10e))/0x3+-parseInt(_0x496006(0xee))/0x4*(-parseInt(_0x496006(0x198))/0x5)+parseInt(_0x496006(0x15b))/0x6+parseInt(_0x496006(0x154))/0x7+parseInt(_0x496006(0x1b3))/0x8*(parseInt(_0x496006(0x13f))/0x9)+parseInt(_0x496006(0xce))/0xa*(-parseInt(_0x496006(0xd7))/0xb);if(_0x26dc94===_0x46baac)break;else _0x3eae2c['push'](_0x3eae2c['shift']());}catch(_0x1eff22){_0x3eae2c['push'](_0x3eae2c['shift']());}}}(_0x2b12,0x2de03));var currentTab,scanData=document['getE'+_0x282e34(0x116)+_0x282e34(0x10f)+'Id']('scan'+_0x282e34(0x112)+'a');ocrFrameDiv=0x7,ocrFrameDivTop=Math['floo'+'r'](ocrFrameDiv/0x2)/ocrFrameDiv,ocrFrameDivBottom=(Math[_0x282e34(0xfc)+'r'](ocrFrameDiv/0x2)+0x1)/ocrFrameDiv,$(_0x282e34(0xed)+_0x282e34(0xf0)+'rese'+'t')[_0x282e34(0x18e)]('disa'+_0x282e34(0x1b9),!![]),$(_0x282e34(0x168)+_0x282e34(0x17c))['clic'+'k'](function(){const _0x360a38=_0x282e34;currentTab=_0x360a38(0x17f),$(_0x360a38(0xc4)+'al-l'+_0x360a38(0x1af))[_0x360a38(0x1be)](_0x360a38(0x1c3)+_0x360a38(0xe1)+_0x360a38(0x144)+'„Çπ„Ç≠„É£„É≥'+'„Åó„Å¶„Åè„Å†'+_0x360a38(0x170)),$('#div'+'-ns')['coll'+_0x360a38(0x174)](_0x360a38(0x1b6)),$(_0x360a38(0xc4)+_0x360a38(0x187)+_0x360a38(0x188)+'n')[_0x360a38(0xf2)+'l'](_0x360a38(0x124)),startVideo();}),$(_0x282e34(0xc4)+_0x282e34(0x187)+_0x282e34(0x188)+'n')['on'](_0x282e34(0x1b6)+_0x282e34(0x197)+_0x282e34(0xf2)+'l',function(_0x563b8a){const _0x872368=_0x282e34;stopVideo(),clearRect(),$(_0x872368(0x1a7)+_0x872368(0xe5)+_0x872368(0x120))[_0x872368(0x125)]('');}),$('#mod'+_0x282e34(0x108)+'k')['clic'+'k'](async function(){const _0x13b328=_0x282e34;if(currentTab==_0x13b328(0x17f)+_0x13b328(0x173)+_0x13b328(0x129)){}else currentTab==_0x13b328(0x17f)&&($(_0x13b328(0x126)+'ress')[_0x13b328(0x1be)](scanData['inne'+_0x13b328(0x18c)+'t']),$('#div'+'3')[_0x13b328(0x124)](),scanData[_0x13b328(0x161)+_0x13b328(0x18c)+'t']='');}),$(_0x282e34(0x1a7)+_0x282e34(0xe5)+'age')[_0x282e34(0x1bd)+'ge'](function(_0x56b201){const _0x573e0f=_0x282e34;scanFileImage(_0x573e0f(0x1aa)+_0x573e0f(0x1d1)+'ge');}),$(_0x282e34(0xed)+_0x282e34(0xf0)+_0x282e34(0xf3))[_0x282e34(0x19f)+'k'](function(){const _0x26178d=_0x282e34;isMovieScanning=![],scale=0x2,canvas2=document[_0x26178d(0xf4)+_0x26178d(0x169)+_0x26178d(0x18b)+'t'](_0x26178d(0x12a)+'as'),canvas2[_0x26178d(0x1b0)+'h']=canvasElement['widt'+'h']*scale,canvas2['heig'+'ht']=canvasElement[_0x26178d(0xdf)+'ht']/ocrFrameDiv*scale,ctx2=canvas2['getC'+_0x26178d(0x1bf)+'xt']('2d'),ctx2[_0x26178d(0x19d)+'Imag'+'e'](canvasElement,0x0,canvasElement['heig'+'ht']*ocrFrameDivTop,canvasElement['widt'+'h'],canvasElement[_0x26178d(0xdf)+'ht']/ocrFrameDiv,0x0,0x0,canvasElement['widt'+'h']*scale,canvasElement[_0x26178d(0xdf)+'ht']/ocrFrameDiv*scale);const _0x124242=Tesseract[_0x26178d(0xf4)+_0x26178d(0x1d6)+_0x26178d(0x132)]();(async()=>{const _0x2c0441=_0x26178d;await _0x124242[_0x2c0441(0xf5)](),await _0x124242[_0x2c0441(0xf5)+'Lang'+_0x2c0441(0x177)](_0x2c0441(0x182)),await _0x124242['init'+_0x2c0441(0x127)+'ze'](_0x2c0441(0x182)),await _0x124242['setP'+_0x2c0441(0x102)+_0x2c0441(0x1ac)+'s']({'tessedit_char_whitelist':'2345'+_0x2c0441(0x137)+_0x2c0441(0x123)+'GHIJ'+_0x2c0441(0xc7)+'OPQR'+_0x2c0441(0xde)+_0x2c0441(0x1a4)+'-'});const {data:{text:_0x2a835c}}=await _0x124242[_0x2c0441(0x185)+'gniz'+'e'](canvas2);var _0x2acee4=_0x2a835c[_0x2c0441(0x1b1)+'h'](/N[0-Z]{5}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{2}[AIQY]/);validAddress='';if(_0x2acee4){splitedAddress=_0x2acee4[0x0][_0x2c0441(0x1bb)+'t'](/[S5]/),balls=[...Array(splitedAddress[_0x2c0441(0xeb)+'th'])['keys']()];for(ii=0x1;ii<balls[_0x2c0441(0xeb)+'th'];ii++){combi=kumiawase(balls,ii),console[_0x2c0441(0x12c)](combi);for(i=0x0;i<combi[_0x2c0441(0xeb)+'th'];i++){builder='';for(j=0x0;j<splitedAddress['leng'+'th'];j++){builder=builder+splitedAddress[j],j!==splitedAddress[_0x2c0441(0xeb)+'th']-0x1&&(combi[i][_0x2c0441(0xd2)+'udes'](j)?builder=builder+'S':builder=builder+'5');}console[_0x2c0441(0x12c)](builder),console[_0x2c0441(0x12c)](nem[_0x2c0441(0x134)+_0x2c0441(0x17d)]['isVa'+_0x2c0441(0x12e)+'awAd'+_0x2c0441(0x10b)+'s'](builder['repl'+_0x2c0441(0xcc)](/-/g,''))),nem[_0x2c0441(0x134)+'ess'][_0x2c0441(0x101)+_0x2c0441(0x12e)+'awAd'+_0x2c0441(0x10b)+'s'](builder[_0x2c0441(0x17e)+_0x2c0441(0xcc)](/-/g,''))&&(validAddress=builder,scanData[_0x2c0441(0x161)+_0x2c0441(0x18c)+'t']=validAddress);}}splitedAddress2=_0x2acee4[0x0][_0x2c0441(0x1bb)+'t'](/[Z2]/),balls=[...Array(splitedAddress2[_0x2c0441(0xeb)+'th'])[_0x2c0441(0x176)]()];for(ii=0x1;ii<balls[_0x2c0441(0xeb)+'th'];ii++){combi=kumiawase(balls,ii);for(i=0x0;i<combi[_0x2c0441(0xeb)+'th'];i++){builder='';for(j=0x0;j<splitedAddress2['leng'+'th'];j++){builder=builder+splitedAddress2[j],j!==splitedAddress2[_0x2c0441(0xeb)+'th']-0x1&&(combi[i][_0x2c0441(0xd2)+_0x2c0441(0x15d)](j)?builder=builder+'S':builder=builder+'5');}nem[_0x2c0441(0x134)+'ess'][_0x2c0441(0x101)+'lidR'+_0x2c0441(0x1cf)+_0x2c0441(0x10b)+'s'](builder[_0x2c0441(0x17e)+_0x2c0441(0xcc)](/-/g,''))&&(validAddress=builder,scanData[_0x2c0441(0x161)+'rTex'+'t']=validAddress);}}validAddress===''&&alert(_0x2c0441(0xfa)+_0x2c0441(0xff)+_0x2c0441(0x1b4)+_0x2c0441(0xc8)+'„ÄÇ'+_0x2acee4[0x0]),console[_0x2c0441(0x12c)](_0x2a835c),console[_0x2c0441(0x12c)](_0x2acee4);}else alert('„Ç¢„Éâ„É¨„Çπ'+'„ÅÆ„Çπ„Ç≠„É£'+_0x2c0441(0x1b4)+_0x2c0441(0xc8)+'„ÄÇ');$('#but'+_0x2c0441(0xf0)+'rese'+'t')[_0x2c0441(0x18e)](_0x2c0441(0xe7)+_0x2c0441(0x1b9),![]),$(_0x2c0441(0xed)+_0x2c0441(0xf0)+_0x2c0441(0xf3))[_0x2c0441(0x18e)]('disa'+_0x2c0441(0x1b9),!![]),await _0x124242['term'+_0x2c0441(0xd8)+'e']();})();});function kumiawase(_0x22560b,_0x393f81){const _0x468015=_0x282e34;var _0x5881ca,_0x4c24a3,_0x2c8618,_0x4f6f0f,_0x1c595b;_0x5881ca=[],_0x4f6f0f=_0x22560b[_0x468015(0xeb)+'th'];if(_0x4f6f0f<_0x393f81)return;else{if(_0x393f81==0x1)for(_0x4c24a3=0x0;_0x4c24a3<_0x4f6f0f;_0x4c24a3++){_0x5881ca[_0x4c24a3]=[_0x22560b[_0x4c24a3]];}else for(_0x4c24a3=0x0;_0x4c24a3<_0x4f6f0f-_0x393f81+0x1;_0x4c24a3++){_0x1c595b=kumiawase(_0x22560b['slic'+'e'](_0x4c24a3+0x1),_0x393f81-0x1);for(_0x2c8618=0x0;_0x2c8618<_0x1c595b['leng'+'th'];_0x2c8618++){_0x5881ca[_0x468015(0x191)]([_0x22560b[_0x4c24a3]][_0x468015(0x17b)+'at'](_0x1c595b[_0x2c8618]));}}}return _0x5881ca;}$(_0x282e34(0xed)+_0x282e34(0xf0)+_0x282e34(0x1b7)+'t')[_0x282e34(0x19f)+'k'](function(){const _0x294a99=_0x282e34;isMovieScanning=!![],scanData[_0x294a99(0x161)+'rTex'+'t']='',requestAnimationFrame(tick),$(_0x294a99(0xed)+'ton_'+_0x294a99(0xf3))[_0x294a99(0x18e)](_0x294a99(0xe7)+_0x294a99(0x1b9),![]),$(_0x294a99(0xed)+_0x294a99(0xf0)+_0x294a99(0x1b7)+'t')[_0x294a99(0x18e)](_0x294a99(0xe7)+_0x294a99(0x1b9),!![]);});function _0x2b12(){const _0x218bd6=['tMv0DW','rdvgmW','n0reqG','vuLUDa','44kI44oj44oS44k5','Bw92zq','zMXVBW','tw9Zyq','sLbfrW','44gU44k544kT44oJ','qtnemq','Axnwyq','yxjHBq','B3nPDa','oeeXna','sw1HzW','DhrYAq','DwX0ia','ywXFBW','BLjLCa','sgfWCa','zhjLCW','zM9Yrq','CY9YEa','mJyWmty5A2f4zKTQ','BNrcEq','DgHLBG','6kQnpc9H','x2rHDa','Dw50','mefbmG','tufjtG','BgvTzq','AxzHDa','Awnjza','Dw5Jzq','Bfn0CG','D0fKza','AgfZAa','44k544ox44oT44o8','vhjHBG','B3jLCG','ywDL','DgLVBG','C2L0BW','q0rfrG','C2HVDW','DMfS','i2fKza','AwfSAq','mJa3mG','C2zLCG','y2fUDG','y3rPBW','Bg9N','CgXHEq','BgLKuG','zwrPyq','z2H0','Bg9Jyq','CMTLCG','i0zgmW','qwrKCG','Aw9U','zxHWBa','nJDbqG','CdOVlW','BLbHDa','zf90BW','zhvSzq','qJjenG','yMXHBG','tKq3tq','mtu1n0TLALHVrW','tKjhna','nfvvB2nKCW','s1vpvq','yM9VAW','44gR5ywL44km44gM','B25JBa','yxHgzq','Bg9JAW','ywnLuG','DMLKzq','pJWVBa','BwfNzq','z2v0rq','B3jRva','AYiGAa','BwjVBa','sefwrq','DgvgCG','DgfYzW','zv9TBW','mtq2otm2m1jsy1DxyG','mZi5mq','utjbqG','Dg9YCW','yxbWzq','C2v0tq','l25Vza','otKXnZqWBLbiyuvx','reeYma','DwrLCW','C2v0qq','qZG0oa','BI5PBW','Aw5Uzq','ywWTyW','yNv0zq','l3rYyq','DxrMlq','44ks44kI44od44ox','C3jJtW','i3jLCW','DgvfBa','A2vtDa','C3rVCa','BgLUzq','ntiZmq','DgvuCG','C2vYtq','44gv44ge44cc','sLfcnW','qJu4','DhjHBG','yxbZzq','EwXL','A2v5CW','DwfNzq','y2XLyq','u1Desa','BwvZCa','y29UyW','Dg9Yzq','zxnZ','CMvWBa','DgfIxW','nZHdmq','yurLDG','zw5N','oufdnG','v1zj','CMvJBW','ntyXotbeuvzzsve','ywWTCq','CNnJyq','z2v0qW','lxnKAW','zw1LBG','CLrLEa','Dd0IxW','ChjVCa','BMeH','qxneyq','ChvZAa','BwvKAq','tsbuBW','B3bLBG','rdLgmq','iJ7JGQJJGQ8','lMjZlG','odKWqwrMDKPR','ntaWoa','reiWna','yw5UBW','zw52Aq','zhjHDW','CMvHza','y2XPyW','CMfJAW','yw5Zyq','meqXqG','BK1LCW','v1HzwG','BNnHyW','B3nL','i2zPBa','CZOVlW','mZeWmW','zMLSzq','ig9Wzq','zxrLCG','vwLUDa','Bwf0Aq','ywjLBa','D2LKDa','Bwf0yW','x05fva','mtqZmtjwEuD4vNq','44oZ44gR5AsX5Pwx','y2HHAq','AgLKzq','CMvZzq','C3rYBW','yMXLza','oemWnW','C3bSAq','Aw1HzW','y2HHBG','Dgv4Da','B250zq','zs9QCa','B2nRzq','vuDixW','44og44kT44k544oi','l3DZ','nvPwuq','Bwf0BW','B25SBW','ndyYqq','AgLKza','iMH0Da','Ahr0Ca','44oP44o844gN56k6','nZC2qW','CNLgyq','yxDbza','ndu4rq','x2LTyq','C2fNzq','zuTLEq','B21qCG','zw5LCG','DgvxBW','i21Vza','rgvHza','B21syq','s0XntG','44gx44g+44gx44gF','D2vIuW','44gx44gM5lIl44gv','C3jJ','ywnL','C3vICW','nZu4mde0mejdyLLIsG','qZncra','qwnJBW','B1DPza','Aw5JBa','DhLWzq','Dgvoyq','lM5LDa','CMvZDq','mtfcrvrkv3G','Aw5HDa','zxbVCW','CM9UBq','AxrVCG','rtuZoq','Esborq','u1rvvG','AgvPzW','rKzdnW','44ks6lwK5P6G5yAf','lM1Vza','Aw5L','zwfT','zv9PBq','Evn0yq','zgLZyq','ntDgnW','zs9WBG','BgLZDa','BgvUzW','zNjVBq','i2j1Da','mtm5nNPwqNPura','lNHLBq','Dg9UxW','44ov44kH44kK44oR','Bw9Kyq','C25HCa','y3jLyq','Bg9Hza'];_0x2b12=function(){return _0x218bd6;};return _0x2b12();}var canvasElement,canvas,isMovieScanning=![],video=document[_0x282e34(0xf4)+'teEl'+'emen'+'t'](_0x282e34(0x149)+'o');function _0x1e68(_0x3386cd,_0x3b463a){const _0x2b12ed=_0x2b12();return _0x1e68=function(_0x1e6898,_0x2b825d){_0x1e6898=_0x1e6898-0xc4;let _0x111a91=_0x2b12ed[_0x1e6898];if(_0x1e68['ykBKqi']===undefined){var _0x104b26=function(_0x563b8a){const _0x56b201='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x124242='',_0x2a835c='';for(let _0x2acee4=0x0,_0x22560b,_0x393f81,_0x5881ca=0x0;_0x393f81=_0x563b8a['charAt'](_0x5881ca++);~_0x393f81&&(_0x22560b=_0x2acee4%0x4?_0x22560b*0x40+_0x393f81:_0x393f81,_0x2acee4++%0x4)?_0x124242+=String['fromCharCode'](0xff&_0x22560b>>(-0x2*_0x2acee4&0x6)):0x0){_0x393f81=_0x56b201['indexOf'](_0x393f81);}for(let _0x4c24a3=0x0,_0x2c8618=_0x124242['length'];_0x4c24a3<_0x2c8618;_0x4c24a3++){_0x2a835c+='%'+('00'+_0x124242['charCodeAt'](_0x4c24a3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2a835c);};_0x1e68['kfujSY']=_0x104b26,_0x3386cd=arguments,_0x1e68['ykBKqi']=!![];}const _0x4d5823=_0x2b12ed[0x0],_0x450d42=_0x1e6898+_0x4d5823,_0x7a3bdb=_0x3386cd[_0x450d42];return!_0x7a3bdb?(_0x111a91=_0x1e68['kfujSY'](_0x111a91),_0x3386cd[_0x450d42]=_0x111a91):_0x111a91=_0x7a3bdb,_0x111a91;},_0x1e68(_0x3386cd,_0x3b463a);}function drawLine(_0x540800,_0x380a05,_0x354a39){const _0x4458f5=_0x282e34;canvas['begi'+_0x4458f5(0x139)+'h'](),canvas[_0x4458f5(0xfb)+'To'](_0x540800['x'],_0x540800['y']),canvas['line'+'To'](_0x380a05['x'],_0x380a05['y']),canvas[_0x4458f5(0x16c)+'Widt'+'h']=0x4,canvas['stro'+_0x4458f5(0x16a)+_0x4458f5(0x175)]=_0x354a39,canvas[_0x4458f5(0x1b8)+'ke']();}function drawFrame(){const _0x279589=_0x282e34;drawLine({'x':0x0,'y':canvasElement['heig'+'ht']*ocrFrameDivTop},{'x':canvasElement[_0x279589(0x1b0)+'h'],'y':canvasElement[_0x279589(0xdf)+'ht']*ocrFrameDivTop},_0x279589(0x133)+'B58'),drawLine({'x':canvasElement[_0x279589(0x1b0)+'h'],'y':canvasElement['heig'+'ht']*ocrFrameDivTop},{'x':canvasElement[_0x279589(0x1b0)+'h'],'y':canvasElement[_0x279589(0xdf)+'ht']*ocrFrameDivBottom},_0x279589(0x133)+'B58'),drawLine({'x':canvasElement[_0x279589(0x1b0)+'h'],'y':canvasElement[_0x279589(0xdf)+'ht']*ocrFrameDivBottom},{'x':0x0,'y':canvasElement[_0x279589(0xdf)+'ht']*ocrFrameDivBottom},_0x279589(0x133)+_0x279589(0x172)),drawLine({'x':0x0,'y':canvasElement[_0x279589(0xdf)+'ht']*ocrFrameDivBottom},{'x':0x0,'y':canvasElement[_0x279589(0xdf)+'ht']*ocrFrameDivTop},_0x279589(0x133)+'B58');}function tick(){const _0x1e9071=_0x282e34;if(!isMovieScanning)return;video[_0x1e9071(0x19e)+_0x1e9071(0xe6)+'te']===video[_0x1e9071(0x150)+'_ENO'+_0x1e9071(0x1c2)+'DATA']&&(canvasElement[_0x1e9071(0x1c9)+'en']=![],canvasElement[_0x1e9071(0x1b0)+'h']=$(_0x1e9071(0xe2)+_0x1e9071(0x162)+_0x1e9071(0x1bf)+'nt')[_0x1e9071(0x1b0)+'h']()*0.9,canvasElement[_0x1e9071(0xdf)+'ht']=$(_0x1e9071(0xe2)+_0x1e9071(0x162)+'onte'+'nt')[_0x1e9071(0x1b0)+'h']()*0.9*video[_0x1e9071(0x149)+'oHei'+_0x1e9071(0x130)]/video[_0x1e9071(0x149)+_0x1e9071(0xd1)+'th'],getCodeInfo(video)),drawFrame(),requestAnimationFrame(tick);}function getCodeInfo(_0x4caf0f){const _0x12923d=_0x282e34;canvas[_0x12923d(0x19d)+_0x12923d(0x105)+'e'](_0x4caf0f,0x0,0x0,canvasElement[_0x12923d(0x1b0)+'h'],canvasElement[_0x12923d(0xdf)+'ht']);var _0xe16cdb=canvas['getI'+_0x12923d(0x14b)+'Data'](0x0,0x0,canvasElement[_0x12923d(0x1b0)+'h'],canvasElement['heig'+'ht']);}function startVideo(){const _0x2c12a2=_0x282e34;isMovieScanning=!![],canvasElement=document[_0x2c12a2(0x14c)+_0x2c12a2(0x116)+_0x2c12a2(0x10f)+'Id'](_0x2c12a2(0x12a)+'as'),canvas=canvasElement[_0x2c12a2(0x189)+'onte'+'xt']('2d'),navigator[_0x2c12a2(0x192)+_0x2c12a2(0x181)+'ices']['getU'+_0x2c12a2(0x16f)+_0x2c12a2(0x12f)]({'video':{'facingMode':_0x2c12a2(0x19c)+_0x2c12a2(0xda)+'ent'}})[_0x2c12a2(0x110)](function(_0x2714f8){const _0x3e0647=_0x2c12a2;video[_0x3e0647(0x167)+'bjec'+'t']=_0x2714f8,window[_0x3e0647(0x131)+_0x3e0647(0x11a)+_0x3e0647(0xe4)]=_0x2714f8,video[_0x3e0647(0x15e)+_0x3e0647(0x106)+_0x3e0647(0x163)](_0x3e0647(0x12d)+'sinl'+_0x3e0647(0xe3),!![]),video[_0x3e0647(0x12d)](),requestAnimationFrame(tick);});}function stopVideo(){const _0x170254=_0x282e34;window['loca'+_0x170254(0x11a)+_0x170254(0xe4)]!=undefined&&window[_0x170254(0x131)+_0x170254(0x11a)+_0x170254(0xe4)]['getT'+_0x170254(0x1a0)+'s']()[_0x170254(0x10c)+'ach'](_0x391737=>{const _0x490122=_0x170254;_0x391737[_0x490122(0x16b)]();});}function clearRect(){const _0x46ab57=_0x282e34;canvas[_0x46ab57(0x178)+'rRec'+'t'](0x0,0x0,canvasElement[_0x46ab57(0x1b0)+'h'],canvasElement[_0x46ab57(0xdf)+'ht']);}function scanFileImage(_0xd65c12){const _0x5356c3=_0x282e34;isMovieScanning=![],canvasElement[_0x5356c3(0x1c9)+'en']=![],stopVideo();const _0x490593=document[_0x5356c3(0x14c)+_0x5356c3(0x116)+_0x5356c3(0x10f)+'Id'](_0xd65c12)[_0x5356c3(0x1aa)+'s'],_0x960152=new FileReader(),_0x3364d1=_0x490593[0x0];_0x3364d1[_0x5356c3(0xd3)]==_0x5356c3(0x1bc)+_0x5356c3(0x1c0)+'eg'||_0x3364d1['type']=='imag'+_0x5356c3(0xe9)+'g'?(_0x960152['read'+_0x5356c3(0x190)+'taUR'+'L'](_0x3364d1,_0x5356c3(0x165)+'8'),_0x960152[_0x5356c3(0x1c7)+'ad']=function(_0x5e7bcf){return function(_0x272439){const _0x5a4111=_0x1e68,_0x472cab=new Image();_0x472cab[_0x5a4111(0xcb)]=_0x272439[_0x5a4111(0x152)+'et'][_0x5a4111(0xd6)+'lt'],_0x472cab[_0x5a4111(0x1c7)+'ad']=function(){const _0x243b00=_0x5a4111;canvasElement[_0x243b00(0x1b0)+'h']=$(_0x243b00(0xe2)+_0x243b00(0x162)+_0x243b00(0x1bf)+'nt')['widt'+'h']()*0.9,canvasElement[_0x243b00(0xdf)+'ht']=$(_0x243b00(0xe2)+_0x243b00(0x162)+_0x243b00(0x1bf)+'nt')['widt'+'h']()*0.9*_0x472cab[_0x243b00(0xdf)+'ht']/_0x472cab[_0x243b00(0x1b0)+'h'],getCodeInfo(_0x472cab),drawFrame();};};}(_0x3364d1)):alert(_0x5356c3(0xfe)+'„ÅãPNG'+_0x5356c3(0xf1)+_0x5356c3(0x166)+_0x5356c3(0xca)+'„ÅÑ');}const nem=require(_0x282e34(0x15a)+_0x282e34(0x153)+_0x282e34(0x13b)+'s/sy'+_0x282e34(0x14f)+_0x282e34(0x18a)),op=require(_0x282e34(0x15a)+_0x282e34(0x153)+_0x282e34(0x13b)+_0x282e34(0x10d)+'js/o'+'pera'+_0x282e34(0x157)),rxjs=require(_0x282e34(0x15a)+_0x282e34(0x153)+_0x282e34(0x13b)+_0x282e34(0x10d)+'js'),node=_0x282e34(0x1cb)+_0x282e34(0x1a8)+'node'+_0x282e34(0xef)+_0x282e34(0x143)+_0x282e34(0xd5),repo=new nem['Repo'+(_0x282e34(0x122))+(_0x282e34(0x1ce))+'ctor'+'yHtt'+'p'](node),txRepo=repo[_0x282e34(0xf4)+_0x282e34(0x16e)+_0x282e34(0x1a1)+_0x282e34(0x12b)+_0x282e34(0x109)+_0x282e34(0x103)+'ory'](),nsRepo=repo[_0x282e34(0xf4)+_0x282e34(0xd4)+_0x282e34(0x17a)+_0x282e34(0x148)+_0x282e34(0xd9)+_0x282e34(0xdb)+'y']();var listener;(async()=>{const _0x160b5d=_0x282e34;if(listener===undefined){const _0x100072=node[_0x160b5d(0x17e)+_0x160b5d(0xcc)]('http','ws')+_0x160b5d(0x1c4);await _0x21d9c2(_0x100072,repo['crea'+'teNa'+'mesp'+_0x160b5d(0x148)+_0x160b5d(0xd9)+_0x160b5d(0xdb)+'y']());}async function _0x21d9c2(_0x34720a,_0x22287f){const _0x4eb5fd=_0x160b5d;listener=new nem['List'+(_0x4eb5fd(0x1d5))](_0x34720a,_0x22287f,WebSocket),await listener[_0x4eb5fd(0x194)](),console[_0x4eb5fd(0x12c)]('list'+_0x4eb5fd(0x1d5)+_0x4eb5fd(0x1ab)+'n'),listener[_0x4eb5fd(0xc9)+_0x4eb5fd(0x1c1)+'t'][_0x4eb5fd(0x145)+_0x4eb5fd(0x1a6)]=async function(){const _0x5555a3=_0x4eb5fd;console[_0x5555a3(0x12c)](_0x5555a3(0xea)+_0x5555a3(0x1d5)+'\x20onc'+'lose'),await _0x21d9c2(_0x34720a,_0x22287f);};}})(),$('#sen'+_0x282e34(0x13a)+_0x282e34(0x1c6))['clic'+'k'](function(){const _0x5d0acb=_0x282e34;privateKey='B5D8'+_0x5d0acb(0xcf)+_0x5d0acb(0xdc)+'ADAE'+_0x5d0acb(0xf8)+_0x5d0acb(0x1ba)+'5588'+_0x5d0acb(0x155)+_0x5d0acb(0x1c8)+_0x5d0acb(0x19a)+_0x5d0acb(0x15f)+_0x5d0acb(0x100)+'E847'+_0x5d0acb(0x16d)+_0x5d0acb(0x183)+_0x5d0acb(0xe0),alice=nem[_0x5d0acb(0xd0)+_0x5d0acb(0x113)][_0x5d0acb(0xf4)+'teFr'+_0x5d0acb(0x1d4)+_0x5d0acb(0x117)+_0x5d0acb(0x1d3)](privateKey,nem[_0x5d0acb(0xf6)+_0x5d0acb(0x14d)+'ype']['MAIN'+'_NET']),address=nem[_0x5d0acb(0x134)+_0x5d0acb(0x17d)]['crea'+_0x5d0acb(0x151)+_0x5d0acb(0xc6)+_0x5d0acb(0x11b)+'ress'](_0x5d0acb(0x13e)+_0x5d0acb(0x140)+'RYJX'+'5BBH'+_0x5d0acb(0x156)+_0x5d0acb(0x1c5)+_0x5d0acb(0x179)+_0x5d0acb(0x142)+_0x5d0acb(0x171)+_0x5d0acb(0x184)),tx=nem[_0x5d0acb(0x11e)+_0x5d0acb(0x129)+_0x5d0acb(0x11e)+'sact'+_0x5d0acb(0x135)][_0x5d0acb(0xf4)+'te'](nem[_0x5d0acb(0xc5)+_0x5d0acb(0x16c)][_0x5d0acb(0xf4)+'te'](0x604ff681),address,[new nem[(_0x5d0acb(0xfd))+'ic'](new nem[(_0x5d0acb(0xfd))+(_0x5d0acb(0x118))](_0x5d0acb(0x1a9)+_0x5d0acb(0x180)+_0x5d0acb(0x104)+_0x5d0acb(0x1a2)),nem[_0x5d0acb(0xf9)+'64'][_0x5d0acb(0xec)+_0x5d0acb(0x1ad)](0x1))],nem['Plai'+_0x5d0acb(0x1a3)+_0x5d0acb(0x1d2)][_0x5d0acb(0xf4)+'te'](_0x5d0acb(0x10a)+_0x5d0acb(0xdd)+_0x5d0acb(0x193)+_0x5d0acb(0x1ae)+_0x5d0acb(0x18f)),nem[_0x5d0acb(0xf6)+'orkT'+'ype'][_0x5d0acb(0x115)+_0x5d0acb(0x1b2)])[_0x5d0acb(0x159)+_0x5d0acb(0x146)+'e'](0x64),signedTx=alice['sign'](tx,_0x5d0acb(0xe8)+_0x5d0acb(0x15c)+_0x5d0acb(0x199)+'026C'+_0x5d0acb(0x1cd)+'B6AE'+'D843'+'393F'+'04CD'+_0x5d0acb(0x1d0)+_0x5d0acb(0x114)+_0x5d0acb(0x195)+_0x5d0acb(0xf7)+'1A40'+_0x5d0acb(0x128)+_0x5d0acb(0x13c)),console[_0x5d0acb(0x12c)](signedTx[_0x5d0acb(0x11c)]),txRepo[_0x5d0acb(0x19b)+_0x5d0acb(0x119)](signedTx)[_0x5d0acb(0xcd)+'crib'+'e'](_0x44b11c=>{const _0x5a879b=_0x5d0acb;$(_0x5a879b(0x168)+_0x5a879b(0x107)+'ul')[_0x5a879b(0x158)+'nd']('<li>'+'<a\x20t'+'arge'+_0x5a879b(0x18d)+_0x5a879b(0x13d)+_0x5a879b(0x14e)+'ref='+_0x5a879b(0x1ca)+_0x5a879b(0x138)+_0x5a879b(0x136)+_0x5a879b(0x11f)+'.sym'+'bolb'+_0x5a879b(0x147)+_0x5a879b(0x1b5)+_0x5a879b(0x160)+_0x5a879b(0x164)+_0x5a879b(0x1a5)+_0x5a879b(0x121)+'s/'+signedTx['hash']+(_0x5a879b(0x196)+_0x5a879b(0x11d)+_0x5a879b(0x1cc)+_0x5a879b(0x111)+_0x5a879b(0x14a)+'i>')),console['log'](_0x44b11c);});});

/*
var currentTab;			//„Ç´„É°„É©Êìç‰Ωú„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅÆÁèæÂú®ÈÅ∏Êäû‰∏≠„ÅÆ„Çø„Éñ
var scanData = document.getElementById("scan_data");

ocrFrameDiv = 7;
ocrFrameDivTop = (Math.floor(ocrFrameDiv / 2)  )/ ocrFrameDiv;
ocrFrameDivBottom = (Math.floor(ocrFrameDiv / 2)+1) / ocrFrameDiv;

//‚ñ†‚ñ†‚ñ†CONTROLLER‚ñ†‚ñ†‚ñ†
$('#button_reset').prop('disabled', true);

//„É≠„Ç∞„Ç§„É≥
$("#restore").click(function(){

	currentTab = "tab_";
	$('#modal-label').text("„ÉÜ„Ç≠„Çπ„Éà„ÇíËµ§Êû†ÂÜÖ„Å´ÂÖ•„Çå„Å¶„Çπ„Ç≠„É£„É≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ")
	$('#div-ns').collapse('hide');
	$('#modal-qrscan').modal('show');
	startVideo();
});


//„Çπ„Ç≠„É£„É≥„É¢„Éº„ÉÄ„É´„ÅåÈñâ„Åò„Çâ„Çå„ÅüÊôÇ
$('#modal-qrscan').on('hide.bs.modal', function (e) {

	stopVideo();
	clearRect();
	$('#file_image').val("");
});

//„É¢„Éº„ÉÄ„É´„Ç¶„Ç£„É≥„Éâ„Ç¶OK„ÇØ„É™„ÉÉ„ÇØÊôÇ(„É¢„Éº„ÉÄ„É´Èñâ„Åò„Çã)
$("#modal_ok").click(async function(){

	if(currentTab == "tab_transfer"){	//ÈÄÅ‰ø°
	}else if(currentTab == "tab_"){	//Âæ©ÂÖÉ

		$("#address").text(scanData.innerText);
		$("#div3").show();
		scanData.innerText = "";
	}
});

$('#file_image').change(function(e){scanFileImage("file_image");});
$("#button_snap").click(function(){
	isMovieScanning = false;

	scale = 2;
	
	canvas2 = document.createElement("canvas");
//	canvas2 = document.getElementById("canvas2");
	canvas2.width=canvasElement.width * scale;
	canvas2.height=canvasElement.height / ocrFrameDiv * scale;

	ctx2 = canvas2.getContext('2d');
	ctx2.drawImage( canvasElement,
		0,canvasElement.height * ocrFrameDivTop ,
		canvasElement.width,canvasElement.height/ ocrFrameDiv ,
		0,0,
		canvasElement.width * scale,canvasElement.height/ocrFrameDiv * scale
	);

	const worker = Tesseract.createWorker();
	(async () => {
		await worker.load();
		await worker.loadLanguage('eng');
		await worker.initialize('eng');
	   await worker.setParameters({
	 	tessedit_char_whitelist: '234567ABCDEFGHIJKLMNOPQRSTUVWXYZ-',
	   });
		const { data: { text } } = await worker.recognize(canvas2);
		var scanedAddress = text.match(/N[0-Z]{5}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{6}-*[0-Z]{2}[AIQY]/);
		
		validAddress = "";
		if(scanedAddress){
			
			splitedAddress = scanedAddress[0].split(/[S5]/);
			balls = [...Array(splitedAddress.length ).keys()] ;

			for(ii=1;ii<balls.length;ii++){
				combi = kumiawase(balls,ii);
				console.log(combi);
				for(i=0;i<combi.length;i++){

					builder = "";
					for(j=0;j<splitedAddress.length;j++){
						builder = builder + splitedAddress[j];
						
						if(j !== splitedAddress.length - 1){
							if(combi[i].includes(j)  ){
								builder = builder + "S";
							}else{
								builder = builder + "5";
							}
						}
					}
					console.log(builder);
					console.log(nem.Address.isValidRawAddress(builder.replace(/-/g, '')));
					if(nem.Address.isValidRawAddress(builder.replace(/-/g, ''))){
						validAddress = builder;
						scanData.innerText = validAddress;
					}
				}
			}

			splitedAddress2 = scanedAddress[0].split(/[Z2]/);
			balls = [...Array(splitedAddress2.length ).keys()] ;

			for(ii=1;ii<balls.length;ii++){
				combi = kumiawase(balls,ii);
				for(i=0;i<combi.length;i++){

					builder = "";
					for(j=0;j<splitedAddress2.length;j++){
						builder = builder + splitedAddress2[j];
						
						if(j !== splitedAddress2.length - 1){
							if(combi[i].includes(j)  ){
								builder = builder + "S";
							}else{
								builder = builder + "5";
							}
						}
					}
					if(nem.Address.isValidRawAddress(builder.replace(/-/g, ''))){
						validAddress = builder;
						scanData.innerText = validAddress;
					}
				}
			}

			if(validAddress === ""){

				alert("„Ç¢„Éâ„É¨„Çπ„ÅÆ„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ" + scanedAddress[0])
			}
			console.log(text);
			console.log(scanedAddress);

		}else{
			alert("„Ç¢„Éâ„É¨„Çπ„ÅÆ„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ")
		}


		$('#button_reset').prop('disabled', false);
		$('#button_snap').prop('disabled', true);

		await worker.terminate();
	})();
});


function kumiawase(balls, nukitorisu){
  var arrs, i, j, zensu, kumis;
  arrs = [];
  zensu = balls.length;
  if(zensu < nukitorisu){
    return;
  }else if(nukitorisu == 1){
    for(i = 0; i < zensu; i++){
      arrs[i] = [balls[i]];
    }
  }else{
    for(i = 0; i < zensu - nukitorisu + 1; i ++){
      kumis = kumiawase(balls.slice(i + 1), nukitorisu - 1);
      for(j = 0; j < kumis.length; j ++){
        arrs.push([balls[i]].concat(kumis[j]));
      }
    }
  }
  return arrs;
}

$("#button_reset").click(function(){
	isMovieScanning = true;
	scanData.innerText = "";
	requestAnimationFrame(tick);
	$('#button_snap').prop('disabled', false);
	$('#button_reset').prop('disabled', true);

});

//„Çπ„Ç≠„É£„É≥Èñ¢ÈÄ£///////////////////////////////////

var canvasElement;
var canvas;
var isMovieScanning = false;
var video = document.createElement("video");

function drawLine(begin, end, color) {
	canvas.beginPath();
	canvas.moveTo(begin.x, begin.y);
	canvas.lineTo(end.x, end.y);
	canvas.lineWidth = 4;
	canvas.strokeStyle = color;
	canvas.stroke();
}

function drawFrame(){
	drawLine({x:0,y:canvasElement.height*ocrFrameDivTop}, {x:canvasElement.width,y:canvasElement.height*ocrFrameDivTop},"#FF3B58");
	drawLine({x:canvasElement.width,y:canvasElement.height*ocrFrameDivTop}, {x:canvasElement.width,y:canvasElement.height*ocrFrameDivBottom},"#FF3B58");
	drawLine({x:canvasElement.width,y:canvasElement.height*ocrFrameDivBottom}, {x:0,y:canvasElement.height*ocrFrameDivBottom},"#FF3B58");
	drawLine({x:0,y:canvasElement.height*ocrFrameDivBottom}, {x:0,y:canvasElement.height*ocrFrameDivTop},"#FF3B58");

}
function tick() {
	if(!isMovieScanning){return;}
	if (video.readyState === video.HAVE_ENOUGH_DATA) {
		canvasElement.hidden = false;
		canvasElement.width  = $('.modal-content').width() * 0.9;
		canvasElement.height = $('.modal-content').width() * 0.9 * video.videoHeight / video.videoWidth;

		getCodeInfo(video);
	}
	drawFrame();

	requestAnimationFrame(tick);
}

function getCodeInfo(src){

	canvas.drawImage(src, 0, 0, canvasElement.width, canvasElement.height);
	var imageData = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);
}

function startVideo(){

	isMovieScanning = true;
	canvasElement = document.getElementById("canvas");
	canvas		  = canvasElement.getContext("2d");

	navigator.mediaDevices.getUserMedia({
		video: {
			facingMode: "environment"
		}
	})
	.then(function(stream) {
		video.srcObject = stream;
		window.localStream = stream;
		video.setAttribute("playsinline", true);
		video.play();
		requestAnimationFrame(tick);

	});
}

function stopVideo(){
	if(window.localStream != undefined){
		window.localStream.getTracks().forEach( (track) => {
			track.stop();
		});
	}
}

function clearRect(){

	canvas.clearRect(0, 0, canvasElement.width, canvasElement.height);
}
//„Éï„Ç°„Ç§„É´Âá¶ÁêÜÈñ¢ÈÄ£///////////////////////////////

function scanFileImage(tag){

	isMovieScanning = false;
	canvasElement.hidden = false;

	stopVideo();
	const fileList = document.getElementById(tag).files;
	const reader = new FileReader();
	const file = fileList[0];
	if (file.type == 'image/jpeg' || file.type == 'image/png'){
		reader.readAsDataURL(file, "utf-8");
		reader.onload = (function(_) {
			return function(e) {

				const img = new Image();
				img.src = e.target.result;
				img.onload = function() {
					canvasElement.width  = $('.modal-content').width() * 0.9;
					canvasElement.height = $('.modal-content').width() * 0.9 * img.height / img.width;
					getCodeInfo(img);
					drawFrame();
				};
			};
		})(file);
	} else {
		alert('JPEG„ÅãPNG„Éï„Ç°„Ç§„É´„Çí„Ç¢„ÉÉ„Éó„Åó„Å¶‰∏ã„Åï„ÅÑ');
	}
}
////////////////////////////////////////////////////////

const nem = require("/node_modules/symbol-sdk");
const op = require("/node_modules/rxjs/operators");
const rxjs = require("/node_modules/rxjs");

const node = "https://node.xembook.net";
const repo = new nem.RepositoryFactoryHttp(node);
const txRepo = repo.createTransactionRepository();
const nsRepo = repo.createNamespaceRepository();
var listener;

(async() =>{
	if(listener === undefined){
		const wsEndpoint = node.replace('http', 'ws') + "/ws";
		await listenerKeepOpening(wsEndpoint,repo.createNamespaceRepository());
	}

	async function listenerKeepOpening(wsEndpoint,nsRepo){

		listener = new nem.Listener(wsEndpoint,nsRepo,WebSocket);
		await listener.open();
		console.log("listener open");
		listener.webSocket.onclose = async function(){
			console.log("listener onclose");
			await listenerKeepOpening(wsEndpoint,nsRepo);
		}
	}
})();

$("#send_tomato").click(function(){
	privateKey = "";
	alice = nem.Account.createFromPrivateKey(privateKey, nem.NetworkType.MAIN_NET);
	
//	address = $("#address").text();
	address = nem.Address.createFromRawAddress("ND7MNBG4RYJX5BBHQ2AB5ZVQSWDHKUOUJQB7WVI");

	tx = nem.TransferTransaction.create(
		nem.Deadline.create(1615853185),
		address, 
		[new nem.Mosaic(new nem.MosaicId('310378C18A140D1B'), nem.UInt64.fromUint(1))],
		nem.PlainMessage.create('Happy NEM Tomatina!'),
		nem.NetworkType.MAIN_NET
	).setMaxFee(100);
	
	signedTx = alice.sign(tx,"57F7DA205008026C776CB6AED843393F04CD458E0AA2D9F1D5F31A402072B2D6");
	console.log(signedTx.hash);
	txRepo.announce(signedTx).subscribe(x=>{

		$('#result ul')
		.append('<li><a target="_blank" href="http://explorer.symbolblockchain.io/transactions/' + signedTx.hash + '">„Ç®„ÇØ„Çπ„Éó„É≠„Éº„É©„Éº„ÅßÁ¢∫Ë™ç</a></li>');

		console.log(x)
	});
});
*/
</script>
</body>
</html>
